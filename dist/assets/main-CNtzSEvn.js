var es=Object.defineProperty;var Zt=t=>{throw TypeError(t)};var ts=(t,e,r)=>e in t?es(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var O=(t,e,r)=>ts(t,typeof e!="symbol"?e+"":e,r),et=(t,e,r)=>e.has(t)||Zt("Cannot "+r);var E=(t,e,r)=>(et(t,e,"read from private field"),r?r.call(t):e.get(t)),I=(t,e,r)=>e.has(t)?Zt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),B=(t,e,r,s)=>(et(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),L=(t,e,r)=>(et(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerPolicy&&(p.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?p.credentials="include":c.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(c){if(c.ep)return;c.ep=!0;const p=r(c);fetch(c.href,p)}})();const rs=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function ss(t){return rs.test(t)}function fr(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.split(/[:\/]/g).pop().toLowerCase()}fr.valid=ss;function ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ct={exports:{}},ht={exports:{}},G={},A={};A.__esModule=!0;A.extend=dr;A.indexOf=us;A.escapeExpression=cs;A.isEmpty=hs;A.createFrame=ps;A.blockParams=fs;A.appendContextPath=ds;var is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},as=/[&<>"'`=]/g,os=/[&<>"'`=]/;function ls(t){return is[t]}function dr(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var Tt=Object.prototype.toString;A.toString=Tt;var pt=function(e){return typeof e=="function"};pt(/x/)&&(A.isFunction=pt=function(t){return typeof t=="function"&&Tt.call(t)==="[object Function]"});A.isFunction=pt;var gr=Array.isArray||function(t){return t&&typeof t=="object"?Tt.call(t)==="[object Array]":!1};A.isArray=gr;function us(t,e){for(var r=0,s=t.length;r<s;r++)if(t[r]===e)return r;return-1}function cs(t){if(typeof t!="string"){if(t&&t.toHTML)return t.toHTML();if(t==null)return"";if(!t)return t+"";t=""+t}return os.test(t)?t.replace(as,ls):t}function hs(t){return!t&&t!==0?!0:!!(gr(t)&&t.length===0)}function ps(t){var e=dr({},t);return e._parent=t,e}function fs(t,e){return t.path=e,t}function ds(t,e){return(t?t+".":"")+e}var ft={exports:{}};(function(t,e){e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function s(c,p){var f=p&&p.loc,l=void 0,a=void 0,u=void 0,o=void 0;f&&(l=f.start.line,a=f.end.line,u=f.start.column,o=f.end.column,c+=" - "+l+":"+u);for(var d=Error.prototype.constructor.call(this,c),n=0;n<r.length;n++)this[r[n]]=d[r[n]];Error.captureStackTrace&&Error.captureStackTrace(this,s);try{f&&(this.lineNumber=l,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:u,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:o,enumerable:!0})):(this.column=u,this.endColumn=o))}catch{}}s.prototype=new Error,e.default=s,t.exports=e.default})(ft,ft.exports);var W=ft.exports,Oe={},dt={exports:{}};(function(t,e){e.__esModule=!0;var r=A;e.default=function(s){s.registerHelper("blockHelperMissing",function(c,p){var f=p.inverse,l=p.fn;if(c===!0)return l(this);if(c===!1||c==null)return f(this);if(r.isArray(c))return c.length>0?(p.ids&&(p.ids=[p.name]),s.helpers.each(c,p)):f(this);if(p.data&&p.ids){var a=r.createFrame(p.data);a.contextPath=r.appendContextPath(p.data.contextPath,p.name),p={data:a}}return l(c,p)})},t.exports=e.default})(dt,dt.exports);var gs=dt.exports,gt={exports:{}};(function(t,e){e.__esModule=!0;function r(f){return f&&f.__esModule?f:{default:f}}var s=A,c=W,p=r(c);e.default=function(f){f.registerHelper("each",function(l,a){if(!a)throw new p.default("Must pass iterator to #each");var u=a.fn,o=a.inverse,d=0,n="",h=void 0,i=void 0;a.data&&a.ids&&(i=s.appendContextPath(a.data.contextPath,a.ids[0])+"."),s.isFunction(l)&&(l=l.call(this)),a.data&&(h=s.createFrame(a.data));function g(m,S,C){h&&(h.key=m,h.index=S,h.first=S===0,h.last=!!C,i&&(h.contextPath=i+m)),n=n+u(l[m],{data:h,blockParams:s.blockParams([l[m],m],[i+m,null])})}if(l&&typeof l=="object")if(s.isArray(l))for(var v=l.length;d<v;d++)d in l&&g(d,d,d===l.length-1);else if(typeof Symbol=="function"&&l[Symbol.iterator]){for(var y=[],_=l[Symbol.iterator](),b=_.next();!b.done;b=_.next())y.push(b.value);l=y;for(var v=l.length;d<v;d++)g(d,d,d===l.length-1)}else(function(){var m=void 0;Object.keys(l).forEach(function(S){m!==void 0&&g(m,d-1),m=S,d++}),m!==void 0&&g(m,d-1,!0)})();return d===0&&(n=o(this)),n})},t.exports=e.default})(gt,gt.exports);var ms=gt.exports,mt={exports:{}};(function(t,e){e.__esModule=!0;function r(p){return p&&p.__esModule?p:{default:p}}var s=W,c=r(s);e.default=function(p){p.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new c.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default})(mt,mt.exports);var vs=mt.exports,vt={exports:{}};(function(t,e){e.__esModule=!0;function r(f){return f&&f.__esModule?f:{default:f}}var s=A,c=W,p=r(c);e.default=function(f){f.registerHelper("if",function(l,a){if(arguments.length!=2)throw new p.default("#if requires exactly one argument");return s.isFunction(l)&&(l=l.call(this)),!a.hash.includeZero&&!l||s.isEmpty(l)?a.inverse(this):a.fn(this)}),f.registerHelper("unless",function(l,a){if(arguments.length!=2)throw new p.default("#unless requires exactly one argument");return f.helpers.if.call(this,l,{fn:a.inverse,inverse:a.fn,hash:a.hash})})},t.exports=e.default})(vt,vt.exports);var _s=vt.exports,_t={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var s=[void 0],c=arguments[arguments.length-1],p=0;p<arguments.length-1;p++)s.push(arguments[p]);var f=1;c.hash.level!=null?f=c.hash.level:c.data&&c.data.level!=null&&(f=c.data.level),s[0]=f,r.log.apply(r,s)})},t.exports=e.default})(_t,_t.exports);var Ss=_t.exports,St={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(s,c,p){return s&&p.lookupProperty(s,c)})},t.exports=e.default})(St,St.exports);var ys=St.exports,yt={exports:{}};(function(t,e){e.__esModule=!0;function r(f){return f&&f.__esModule?f:{default:f}}var s=A,c=W,p=r(c);e.default=function(f){f.registerHelper("with",function(l,a){if(arguments.length!=2)throw new p.default("#with requires exactly one argument");s.isFunction(l)&&(l=l.call(this));var u=a.fn;if(s.isEmpty(l))return a.inverse(this);var o=a.data;return a.data&&a.ids&&(o=s.createFrame(a.data),o.contextPath=s.appendContextPath(a.data.contextPath,a.ids[0])),u(l,{data:o,blockParams:s.blockParams([l],[o&&o.contextPath])})})},t.exports=e.default})(yt,yt.exports);var bs=yt.exports;Oe.__esModule=!0;Oe.registerDefaultHelpers=Bs;Oe.moveHelperToHooks=Ts;function ue(t){return t&&t.__esModule?t:{default:t}}var ws=gs,Cs=ue(ws),Es=ms,ks=ue(Es),Ps=vs,Ls=ue(Ps),xs=_s,Ms=ue(xs),Os=Ss,As=ue(Os),Ns=ys,Is=ue(Ns),Rs=bs,Ds=ue(Rs);function Bs(t){Cs.default(t),ks.default(t),Ls.default(t),Ms.default(t),As.default(t),Is.default(t),Ds.default(t)}function Ts(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])}var Ut={},bt={exports:{}};(function(t,e){e.__esModule=!0;var r=A;e.default=function(s){s.registerDecorator("inline",function(c,p,f,l){var a=c;return p.partials||(p.partials={},a=function(u,o){var d=f.partials;f.partials=r.extend({},d,p.partials);var n=c(u,o);return f.partials=d,n}),p.partials[l.args[0]]=l.fn,a})},t.exports=e.default})(bt,bt.exports);var Us=bt.exports;Ut.__esModule=!0;Ut.registerDefaultDecorators=Gs;function Hs(t){return t&&t.__esModule?t:{default:t}}var Fs=Us,Vs=Hs(Fs);function Gs(t){Vs.default(t)}var wt={exports:{}};(function(t,e){e.__esModule=!0;var r=A,s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(p){if(typeof p=="string"){var f=r.indexOf(s.methodMap,p.toLowerCase());f>=0?p=f:p=parseInt(p,10)}return p},log:function(p){if(p=s.lookupLevel(p),typeof console<"u"&&s.lookupLevel(s.level)<=p){var f=s.methodMap[p];console[f]||(f="log");for(var l=arguments.length,a=Array(l>1?l-1:0),u=1;u<l;u++)a[u-1]=arguments[u];console[f].apply(console,a)}}};e.default=s,t.exports=e.default})(wt,wt.exports);var mr=wt.exports,Se={},Ht={};Ht.__esModule=!0;Ht.createNewLookupObject=Ws;var qs=A;function Ws(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return qs.extend.apply(void 0,[Object.create(null)].concat(e))}Se.__esModule=!0;Se.createProtoAccessControl=Zs;Se.resultIsAllowed=Qs;Se.resetLoggedProperties=Ys;function Js(t){return t&&t.__esModule?t:{default:t}}var Qt=Ht,zs=mr,Ks=Js(zs),We=Object.create(null);function Zs(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:Qt.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:Qt.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}}function Qs(t,e,r){return jt(typeof t=="function"?e.methods:e.properties,r)}function jt(t,e){return t.whitelist[e]!==void 0?t.whitelist[e]===!0:t.defaultValue!==void 0?t.defaultValue:(js(e),!1)}function js(t){We[t]!==!0&&(We[t]=!0,Ks.default.log("error",'Handlebars: Access has been denied to resolve the property "'+t+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function Ys(){Object.keys(We).forEach(function(t){delete We[t]})}G.__esModule=!0;G.HandlebarsEnvironment=Ct;function vr(t){return t&&t.__esModule?t:{default:t}}var ie=A,Xs=W,tt=vr(Xs),$s=Oe,en=Ut,tn=mr,Je=vr(tn),rn=Se,sn="4.7.8";G.VERSION=sn;var nn=8;G.COMPILER_REVISION=nn;var an=7;G.LAST_COMPATIBLE_COMPILER_REVISION=an;var on={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};G.REVISION_CHANGES=on;var rt="[object Object]";function Ct(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},$s.registerDefaultHelpers(this),en.registerDefaultDecorators(this)}Ct.prototype={constructor:Ct,logger:Je.default,log:Je.default.log,registerHelper:function(e,r){if(ie.toString.call(e)===rt){if(r)throw new tt.default("Arg not supported with multiple helpers");ie.extend(this.helpers,e)}else this.helpers[e]=r},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,r){if(ie.toString.call(e)===rt)ie.extend(this.partials,e);else{if(typeof r>"u")throw new tt.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=r}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,r){if(ie.toString.call(e)===rt){if(r)throw new tt.default("Arg not supported with multiple decorators");ie.extend(this.decorators,e)}else this.decorators[e]=r},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){rn.resetLoggedProperties()}};var ln=Je.default.log;G.log=ln;G.createFrame=ie.createFrame;G.logger=Je.default;var Et={exports:{}};(function(t,e){e.__esModule=!0;function r(s){this.string=s}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default})(Et,Et.exports);var un=Et.exports,ne={},Ft={};Ft.__esModule=!0;Ft.wrapHelper=cn;function cn(t,e){if(typeof t!="function")return t;var r=function(){var c=arguments[arguments.length-1];return arguments[arguments.length-1]=e(c),t.apply(this,arguments)};return r}ne.__esModule=!0;ne.checkRevision=mn;ne.template=vn;ne.wrapProgram=He;ne.resolvePartial=_n;ne.invokePartial=Sn;ne.noop=_r;function hn(t){return t&&t.__esModule?t:{default:t}}function pn(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var fn=A,Z=pn(fn),dn=W,Q=hn(dn),j=G,Yt=Oe,gn=Ft,Xt=Se;function mn(t){var e=t&&t[0]||1,r=j.COMPILER_REVISION;if(!(e>=j.LAST_COMPATIBLE_COMPILER_REVISION&&e<=j.COMPILER_REVISION))if(e<j.LAST_COMPATIBLE_COMPILER_REVISION){var s=j.REVISION_CHANGES[r],c=j.REVISION_CHANGES[e];throw new Q.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+s+") or downgrade your runtime to an older version ("+c+").")}else throw new Q.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}function vn(t,e){if(!e)throw new Q.default("No environment passed to template");if(!t||!t.main)throw new Q.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r=t.compiler&&t.compiler[0]===7;function s(f,l,a){a.hash&&(l=Z.extend({},l,a.hash),a.ids&&(a.ids[0]=!0)),f=e.VM.resolvePartial.call(this,f,l,a);var u=Z.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),o=e.VM.invokePartial.call(this,f,l,u);if(o==null&&e.compile&&(a.partials[a.name]=e.compile(f,t.compilerOptions,e),o=a.partials[a.name](l,u)),o!=null){if(a.indent){for(var d=o.split(`
`),n=0,h=d.length;n<h&&!(!d[n]&&n+1===h);n++)d[n]=a.indent+d[n];o=d.join(`
`)}return o}else throw new Q.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")}var c={strict:function(l,a,u){if(!l||!(a in l))throw new Q.default('"'+a+'" not defined in '+l,{loc:u});return c.lookupProperty(l,a)},lookupProperty:function(l,a){var u=l[a];if(u==null||Object.prototype.hasOwnProperty.call(l,a)||Xt.resultIsAllowed(u,c.protoAccessControl,a))return u},lookup:function(l,a){for(var u=l.length,o=0;o<u;o++){var d=l[o]&&c.lookupProperty(l[o],a);if(d!=null)return l[o][a]}},lambda:function(l,a){return typeof l=="function"?l.call(a):l},escapeExpression:Z.escapeExpression,invokePartial:s,fn:function(l){var a=t[l];return a.decorator=t[l+"_d"],a},programs:[],program:function(l,a,u,o,d){var n=this.programs[l],h=this.fn(l);return a||d||o||u?n=He(this,l,h,a,u,o,d):n||(n=this.programs[l]=He(this,l,h)),n},data:function(l,a){for(;l&&a--;)l=l._parent;return l},mergeIfNeeded:function(l,a){var u=l||a;return l&&a&&l!==a&&(u=Z.extend({},a,l)),u},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function p(f){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],a=l.data;p._setup(l),!l.partial&&t.useData&&(a=yn(f,a));var u=void 0,o=t.useBlockParams?[]:void 0;t.useDepths&&(l.depths?u=f!=l.depths[0]?[f].concat(l.depths):l.depths:u=[f]);function d(n){return""+t.main(c,n,c.helpers,c.partials,a,o,u)}return d=Sr(t.main,d,c,l.depths||[],a,o),d(f,l)}return p.isTop=!0,p._setup=function(f){if(f.partial)c.protoAccessControl=f.protoAccessControl,c.helpers=f.helpers,c.partials=f.partials,c.decorators=f.decorators,c.hooks=f.hooks;else{var l=Z.extend({},e.helpers,f.helpers);bn(l,c),c.helpers=l,t.usePartial&&(c.partials=c.mergeIfNeeded(f.partials,e.partials)),(t.usePartial||t.useDecorators)&&(c.decorators=Z.extend({},e.decorators,f.decorators)),c.hooks={},c.protoAccessControl=Xt.createProtoAccessControl(f);var a=f.allowCallsToHelperMissing||r;Yt.moveHelperToHooks(c,"helperMissing",a),Yt.moveHelperToHooks(c,"blockHelperMissing",a)}},p._child=function(f,l,a,u){if(t.useBlockParams&&!a)throw new Q.default("must pass block params");if(t.useDepths&&!u)throw new Q.default("must pass parent depths");return He(c,f,t[f],l,0,a,u)},p}function He(t,e,r,s,c,p,f){function l(a){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],o=f;return f&&a!=f[0]&&!(a===t.nullContext&&f[0]===null)&&(o=[a].concat(f)),r(t,a,t.helpers,t.partials,u.data||s,p&&[u.blockParams].concat(p),o)}return l=Sr(r,l,t,f,s,p),l.program=e,l.depth=f?f.length:0,l.blockParams=c||0,l}function _n(t,e,r){return t?!t.call&&!r.name&&(r.name=t,t=r.partials[t]):r.name==="@partial-block"?t=r.data["partial-block"]:t=r.partials[r.name],t}function Sn(t,e,r){var s=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var c=void 0;if(r.fn&&r.fn!==_r&&function(){r.data=j.createFrame(r.data);var p=r.fn;c=r.data["partial-block"]=function(l){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return a.data=j.createFrame(a.data),a.data["partial-block"]=s,p(l,a)},p.partials&&(r.partials=Z.extend({},r.partials,p.partials))}(),t===void 0&&c&&(t=c),t===void 0)throw new Q.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)}function _r(){return""}function yn(t,e){return(!e||!("root"in e))&&(e=e?j.createFrame(e):{},e.root=t),e}function Sr(t,e,r,s,c,p){if(t.decorator){var f={};e=t.decorator(e,f,r,s&&s[0],c,p,s),Z.extend(e,f)}return e}function bn(t,e){Object.keys(t).forEach(function(r){var s=t[r];t[r]=wn(s,e)})}function wn(t,e){var r=e.lookupProperty;return gn.wrapHelper(t,function(s){return Z.extend({lookupProperty:r},s)})}var kt={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var s=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=s),r}},t.exports=e.default})(kt,kt.exports);var yr=kt.exports;(function(t,e){e.__esModule=!0;function r(_){return _&&_.__esModule?_:{default:_}}function s(_){if(_&&_.__esModule)return _;var b={};if(_!=null)for(var m in _)Object.prototype.hasOwnProperty.call(_,m)&&(b[m]=_[m]);return b.default=_,b}var c=G,p=s(c),f=un,l=r(f),a=W,u=r(a),o=A,d=s(o),n=ne,h=s(n),i=yr,g=r(i);function v(){var _=new p.HandlebarsEnvironment;return d.extend(_,p),_.SafeString=l.default,_.Exception=u.default,_.Utils=d,_.escapeExpression=d.escapeExpression,_.VM=h,_.template=function(b){return h.template(b,_)},_}var y=v();y.create=v,g.default(y),y.default=y,e.default=y,t.exports=e.default})(ht,ht.exports);var Cn=ht.exports,Pt={exports:{}};(function(t,e){e.__esModule=!0;var r={helpers:{helperExpression:function(c){return c.type==="SubExpression"||(c.type==="MustacheStatement"||c.type==="BlockStatement")&&!!(c.params&&c.params.length||c.hash)},scopedId:function(c){return/^\.|this\b/.test(c.original)},simpleId:function(c){return c.parts.length===1&&!r.helpers.scopedId(c)&&!c.depth}}};e.default=r,t.exports=e.default})(Pt,Pt.exports);var br=Pt.exports,Ae={},Lt={exports:{}};(function(t,e){e.__esModule=!0;var r=function(){var s={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(l,a,u,o,d,n,h){var i=n.length-1;switch(d){case 1:return n[i-1];case 2:this.$=o.prepareProgram(n[i]);break;case 3:this.$=n[i];break;case 4:this.$=n[i];break;case 5:this.$=n[i];break;case 6:this.$=n[i];break;case 7:this.$=n[i];break;case 8:this.$=n[i];break;case 9:this.$={type:"CommentStatement",value:o.stripComment(n[i]),strip:o.stripFlags(n[i],n[i]),loc:o.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:n[i],value:n[i],loc:o.locInfo(this._$)};break;case 11:this.$=o.prepareRawBlock(n[i-2],n[i-1],n[i],this._$);break;case 12:this.$={path:n[i-3],params:n[i-2],hash:n[i-1]};break;case 13:this.$=o.prepareBlock(n[i-3],n[i-2],n[i-1],n[i],!1,this._$);break;case 14:this.$=o.prepareBlock(n[i-3],n[i-2],n[i-1],n[i],!0,this._$);break;case 15:this.$={open:n[i-5],path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:o.stripFlags(n[i-5],n[i])};break;case 16:this.$={path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:o.stripFlags(n[i-5],n[i])};break;case 17:this.$={path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:o.stripFlags(n[i-5],n[i])};break;case 18:this.$={strip:o.stripFlags(n[i-1],n[i-1]),program:n[i]};break;case 19:var g=o.prepareBlock(n[i-2],n[i-1],n[i],n[i],!1,this._$),v=o.prepareProgram([g],n[i-1].loc);v.chained=!0,this.$={strip:n[i-2].strip,program:v,chain:!0};break;case 20:this.$=n[i];break;case 21:this.$={path:n[i-1],strip:o.stripFlags(n[i-2],n[i])};break;case 22:this.$=o.prepareMustache(n[i-3],n[i-2],n[i-1],n[i-4],o.stripFlags(n[i-4],n[i]),this._$);break;case 23:this.$=o.prepareMustache(n[i-3],n[i-2],n[i-1],n[i-4],o.stripFlags(n[i-4],n[i]),this._$);break;case 24:this.$={type:"PartialStatement",name:n[i-3],params:n[i-2],hash:n[i-1],indent:"",strip:o.stripFlags(n[i-4],n[i]),loc:o.locInfo(this._$)};break;case 25:this.$=o.preparePartialBlock(n[i-2],n[i-1],n[i],this._$);break;case 26:this.$={path:n[i-3],params:n[i-2],hash:n[i-1],strip:o.stripFlags(n[i-4],n[i])};break;case 27:this.$=n[i];break;case 28:this.$=n[i];break;case 29:this.$={type:"SubExpression",path:n[i-3],params:n[i-2],hash:n[i-1],loc:o.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:n[i],loc:o.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:o.id(n[i-2]),value:n[i],loc:o.locInfo(this._$)};break;case 32:this.$=o.id(n[i-1]);break;case 33:this.$=n[i];break;case 34:this.$=n[i];break;case 35:this.$={type:"StringLiteral",value:n[i],original:n[i],loc:o.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(n[i]),original:Number(n[i]),loc:o.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:n[i]==="true",original:n[i]==="true",loc:o.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:o.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:o.locInfo(this._$)};break;case 40:this.$=n[i];break;case 41:this.$=n[i];break;case 42:this.$=o.preparePath(!0,n[i],this._$);break;case 43:this.$=o.preparePath(!1,n[i],this._$);break;case 44:n[i-2].push({part:o.id(n[i]),original:n[i],separator:n[i-1]}),this.$=n[i-2];break;case 45:this.$=[{part:o.id(n[i]),original:n[i]}];break;case 46:this.$=[];break;case 47:n[i-1].push(n[i]);break;case 48:this.$=[];break;case 49:n[i-1].push(n[i]);break;case 50:this.$=[];break;case 51:n[i-1].push(n[i]);break;case 58:this.$=[];break;case 59:n[i-1].push(n[i]);break;case 64:this.$=[];break;case 65:n[i-1].push(n[i]);break;case 70:this.$=[];break;case 71:n[i-1].push(n[i]);break;case 78:this.$=[];break;case 79:n[i-1].push(n[i]);break;case 82:this.$=[];break;case 83:n[i-1].push(n[i]);break;case 86:this.$=[];break;case 87:n[i-1].push(n[i]);break;case 90:this.$=[];break;case 91:n[i-1].push(n[i]);break;case 94:this.$=[];break;case 95:n[i-1].push(n[i]);break;case 98:this.$=[n[i]];break;case 99:n[i-1].push(n[i]);break;case 100:this.$=[n[i]];break;case 101:n[i-1].push(n[i]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(l,a){throw new Error(l)},parse:function(l){var a=this,u=[0],o=[null],d=[],n=this.table,h="",i=0,g=0;this.lexer.setInput(l),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var v=this.lexer.yylloc;d.push(v);var y=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function _(){var pe;return pe=a.lexer.lex()||1,typeof pe!="number"&&(pe=a.symbols_[pe]||pe),pe}for(var b,m,S,C,w={},k,N,x,D;;){if(m=u[u.length-1],this.defaultActions[m]?S=this.defaultActions[m]:((b===null||typeof b>"u")&&(b=_()),S=n[m]&&n[m][b]),typeof S>"u"||!S.length||!S[0]){var he="";{D=[];for(k in n[m])this.terminals_[k]&&k>2&&D.push("'"+this.terminals_[k]+"'");this.lexer.showPosition?he="Parse error on line "+(i+1)+`:
`+this.lexer.showPosition()+`
Expecting `+D.join(", ")+", got '"+(this.terminals_[b]||b)+"'":he="Parse error on line "+(i+1)+": Unexpected "+(b==1?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(he,{text:this.lexer.match,token:this.terminals_[b]||b,line:this.lexer.yylineno,loc:v,expected:D})}}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+b);switch(S[0]){case 1:u.push(b),o.push(this.lexer.yytext),d.push(this.lexer.yylloc),u.push(S[1]),b=null,g=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,v=this.lexer.yylloc;break;case 2:if(N=this.productions_[S[1]][1],w.$=o[o.length-N],w._$={first_line:d[d.length-(N||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(N||1)].first_column,last_column:d[d.length-1].last_column},y&&(w._$.range=[d[d.length-(N||1)].range[0],d[d.length-1].range[1]]),C=this.performAction.call(w,h,g,i,this.yy,S[1],o,d),typeof C<"u")return C;N&&(u=u.slice(0,-1*N*2),o=o.slice(0,-1*N),d=d.slice(0,-1*N)),u.push(this.productions_[S[1]][0]),o.push(w.$),d.push(w._$),x=n[u[u.length-2]][u[u.length-1]],u.push(x);break;case 3:return!0}}return!0}},c=function(){var f={EOF:1,parseError:function(a,u){if(this.yy.parser)this.yy.parser.parseError(a,u);else throw new Error(a)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var u=a.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var u=a.length,o=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u-1),this.offset-=u;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1&&(this.yylineno-=o.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===d.length?this.yylloc.first_column:0)+d[d.length-o.length].length-o[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-u]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),u=new Array(a.length+1).join("-");return a+this.upcomingInput()+`
`+u+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,u,o,d,n;this._more||(this.yytext="",this.match="");for(var h=this._currentRules(),i=0;i<h.length&&(o=this._input.match(this.rules[h[i]]),!(o&&(!u||o[0].length>u[0].length)&&(u=o,d=i,!this.options.flex)));i++);return u?(n=u[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],a=this.performAction.call(this,this.yy,this,h[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a<"u"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return f.options={},f.performAction=function(a,u,o,d){function n(h,i){return u.yytext=u.yytext.substring(h,u.yyleng-i+h)}switch(o){case 0:if(u.yytext.slice(-2)==="\\\\"?(n(0,1),this.begin("mu")):u.yytext.slice(-1)==="\\"?(n(0,1),this.begin("emu")):this.begin("mu"),u.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(n(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(u.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return u.yytext=n(1,2).replace(/\\"/g,'"'),80;case 32:return u.yytext=n(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return u.yytext=u.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},f.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],f.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},f}();s.lexer=c;function p(){this.yy={}}return p.prototype=s,s.Parser=p,new p}();e.default=r,t.exports=e.default})(Lt,Lt.exports);var En=Lt.exports,xt={exports:{}},Mt={exports:{}};(function(t,e){e.__esModule=!0;function r(u){return u&&u.__esModule?u:{default:u}}var s=W,c=r(s);function p(){this.parents=[]}p.prototype={constructor:p,mutating:!1,acceptKey:function(o,d){var n=this.accept(o[d]);if(this.mutating){if(n&&!p.prototype[n.type])throw new c.default('Unexpected node type "'+n.type+'" found when accepting '+d+" on "+o.type);o[d]=n}},acceptRequired:function(o,d){if(this.acceptKey(o,d),!o[d])throw new c.default(o.type+" requires "+d)},acceptArray:function(o){for(var d=0,n=o.length;d<n;d++)this.acceptKey(o,d),o[d]||(o.splice(d,1),d--,n--)},accept:function(o){if(o){if(!this[o.type])throw new c.default("Unknown type: "+o.type,o);this.current&&this.parents.unshift(this.current),this.current=o;var d=this[o.type](o);if(this.current=this.parents.shift(),!this.mutating||d)return d;if(d!==!1)return o}},Program:function(o){this.acceptArray(o.body)},MustacheStatement:f,Decorator:f,BlockStatement:l,DecoratorBlock:l,PartialStatement:a,PartialBlockStatement:function(o){a.call(this,o),this.acceptKey(o,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:f,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(o){this.acceptArray(o.pairs)},HashPair:function(o){this.acceptRequired(o,"value")}};function f(u){this.acceptRequired(u,"path"),this.acceptArray(u.params),this.acceptKey(u,"hash")}function l(u){f.call(this,u),this.acceptKey(u,"program"),this.acceptKey(u,"inverse")}function a(u){this.acceptRequired(u,"name"),this.acceptArray(u.params),this.acceptKey(u,"hash")}e.default=p,t.exports=e.default})(Mt,Mt.exports);var wr=Mt.exports;(function(t,e){e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}var s=wr,c=r(s);function p(){var o=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=o}p.prototype=new c.default,p.prototype.Program=function(o){var d=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var h=o.body,i=0,g=h.length;i<g;i++){var v=h[i],y=this.accept(v);if(y){var _=f(h,i,n),b=l(h,i,n),m=y.openStandalone&&_,S=y.closeStandalone&&b,C=y.inlineStandalone&&_&&b;y.close&&a(h,i,!0),y.open&&u(h,i,!0),d&&C&&(a(h,i),u(h,i)&&v.type==="PartialStatement"&&(v.indent=/([ \t]+$)/.exec(h[i-1].original)[1])),d&&m&&(a((v.program||v.inverse).body),u(h,i)),d&&S&&(a(h,i),u((v.inverse||v.program).body))}}return o},p.prototype.BlockStatement=p.prototype.DecoratorBlock=p.prototype.PartialBlockStatement=function(o){this.accept(o.program),this.accept(o.inverse);var d=o.program||o.inverse,n=o.program&&o.inverse,h=n,i=n;if(n&&n.chained)for(h=n.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var g={open:o.openStrip.open,close:o.closeStrip.close,openStandalone:l(d.body),closeStandalone:f((h||d).body)};if(o.openStrip.close&&a(d.body,null,!0),n){var v=o.inverseStrip;v.open&&u(d.body,null,!0),v.close&&a(h.body,null,!0),o.closeStrip.open&&u(i.body,null,!0),!this.options.ignoreStandalone&&f(d.body)&&l(h.body)&&(u(d.body),a(h.body))}else o.closeStrip.open&&u(d.body,null,!0);return g},p.prototype.Decorator=p.prototype.MustacheStatement=function(o){return o.strip},p.prototype.PartialStatement=p.prototype.CommentStatement=function(o){var d=o.strip||{};return{inlineStandalone:!0,open:d.open,close:d.close}};function f(o,d,n){d===void 0&&(d=o.length);var h=o[d-1],i=o[d-2];if(!h)return n;if(h.type==="ContentStatement")return(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(h.original)}function l(o,d,n){d===void 0&&(d=-1);var h=o[d+1],i=o[d+2];if(!h)return n;if(h.type==="ContentStatement")return(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(h.original)}function a(o,d,n){var h=o[d==null?0:d+1];if(!(!h||h.type!=="ContentStatement"||!n&&h.rightStripped)){var i=h.value;h.value=h.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),h.rightStripped=h.value!==i}}function u(o,d,n){var h=o[d==null?o.length-1:d-1];if(!(!h||h.type!=="ContentStatement"||!n&&h.leftStripped)){var i=h.value;return h.value=h.value.replace(n?/\s+$/:/[ \t]+$/,""),h.leftStripped=h.value!==i,h.leftStripped}}e.default=p,t.exports=e.default})(xt,xt.exports);var kn=xt.exports,q={};q.__esModule=!0;q.SourceLocation=xn;q.id=Mn;q.stripFlags=On;q.stripComment=An;q.preparePath=Nn;q.prepareMustache=In;q.prepareRawBlock=Rn;q.prepareBlock=Dn;q.prepareProgram=Bn;q.preparePartialBlock=Tn;function Pn(t){return t&&t.__esModule?t:{default:t}}var Ln=W,Vt=Pn(Ln);function Gt(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var r={loc:t.path.loc};throw new Vt.default(t.path.original+" doesn't match "+e,r)}}function xn(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function Mn(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t}function On(t,e){return{open:t.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function An(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function Nn(t,e,r){r=this.locInfo(r);for(var s=t?"@":"",c=[],p=0,f=0,l=e.length;f<l;f++){var a=e[f].part,u=e[f].original!==a;if(s+=(e[f].separator||"")+a,!u&&(a===".."||a==="."||a==="this")){if(c.length>0)throw new Vt.default("Invalid path: "+s,{loc:r});a===".."&&p++}else c.push(a)}return{type:"PathExpression",data:t,depth:p,parts:c,original:s,loc:r}}function In(t,e,r,s,c,p){var f=s.charAt(3)||s.charAt(2),l=f!=="{"&&f!=="&",a=/\*/.test(s);return{type:a?"Decorator":"MustacheStatement",path:t,params:e,hash:r,escaped:l,strip:c,loc:this.locInfo(p)}}function Rn(t,e,r,s){Gt(t,r),s=this.locInfo(s);var c={type:"Program",body:e,strip:{},loc:s};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:c,openStrip:{},inverseStrip:{},closeStrip:{},loc:s}}function Dn(t,e,r,s,c,p){s&&s.path&&Gt(t,s);var f=/\*/.test(t.open);e.blockParams=t.blockParams;var l=void 0,a=void 0;if(r){if(f)throw new Vt.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=s.strip),a=r.strip,l=r.program}return c&&(c=l,l=e,e=c),{type:f?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:l,openStrip:t.strip,inverseStrip:a,closeStrip:s&&s.strip,loc:this.locInfo(p)}}function Bn(t,e){if(!e&&t.length){var r=t[0].loc,s=t[t.length-1].loc;r&&s&&(e={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:s.end.line,column:s.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function Tn(t,e,r,s){return Gt(t,r),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:r&&r.strip,loc:this.locInfo(s)}}Ae.__esModule=!0;Ae.parseWithoutProcessing=Er;Ae.parse=Jn;function Un(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Cr(t){return t&&t.__esModule?t:{default:t}}var Hn=En,Ot=Cr(Hn),Fn=kn,Vn=Cr(Fn),Gn=q,qn=Un(Gn),Wn=A;Ae.parser=Ot.default;var Fe={};Wn.extend(Fe,qn);function Er(t,e){if(t.type==="Program")return t;Ot.default.yy=Fe,Fe.locInfo=function(s){return new Fe.SourceLocation(e&&e.srcName,s)};var r=Ot.default.parse(t);return r}function Jn(t,e){var r=Er(t,e),s=new Vn.default(e);return s.accept(r)}var Ne={};Ne.__esModule=!0;Ne.Compiler=At;Ne.precompile=Qn;Ne.compile=jn;function kr(t){return t&&t.__esModule?t:{default:t}}var zn=W,Ee=kr(zn),ke=A,Kn=br,be=kr(Kn),Zn=[].slice;function At(){}At.prototype={compiler:At,equals:function(e){var r=this.opcodes.length;if(e.opcodes.length!==r)return!1;for(var s=0;s<r;s++){var c=this.opcodes[s],p=e.opcodes[s];if(c.opcode!==p.opcode||!Pr(c.args,p.args))return!1}r=this.children.length;for(var s=0;s<r;s++)if(!this.children[s].equals(e.children[s]))return!1;return!0},guid:0,compile:function(e,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=ke.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(e)},compileProgram:function(e){var r=new this.compiler,s=r.compile(e,this.options),c=this.guid++;return this.usePartial=this.usePartial||s.usePartial,this.children[c]=s,this.useDepths=this.useDepths||s.useDepths,c},accept:function(e){if(!this[e.type])throw new Ee.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var r=this[e.type](e);return this.sourceNode.shift(),r},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var r=e.body,s=r.length,c=0;c<s;c++)this.accept(r[c]);return this.options.blockParams.shift(),this.isSimple=s===1,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){$t(e);var r=e.program,s=e.inverse;r=r&&this.compileProgram(r),s=s&&this.compileProgram(s);var c=this.classifySexpr(e);c==="helper"?this.helperSexpr(e,r,s):c==="simple"?(this.simpleSexpr(e),this.opcode("pushProgram",r),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,r,s),this.opcode("pushProgram",r),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var r=e.program&&this.compileProgram(e.program),s=this.setupFullMustacheParams(e,r,void 0),c=e.path;this.useDecorators=!0,this.opcode("registerDecorator",s.length,c.original)},PartialStatement:function(e){this.usePartial=!0;var r=e.program;r&&(r=this.compileProgram(e.program));var s=e.params;if(s.length>1)throw new Ee.default("Unsupported number of partial arguments: "+s.length,e);s.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):s.push({type:"PathExpression",parts:[],depth:0}));var c=e.name.original,p=e.name.type==="SubExpression";p&&this.accept(e.name),this.setupFullMustacheParams(e,r,void 0,!0);var f=e.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",p,c,f),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){$t(e);var r=this.classifySexpr(e);r==="simple"?this.simpleSexpr(e):r==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,r,s){var c=e.path,p=c.parts[0],f=r!=null||s!=null;this.opcode("getContext",c.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",s),c.strict=!0,this.accept(c),this.opcode("invokeAmbiguous",p,f)},simpleSexpr:function(e){var r=e.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,r,s){var c=this.setupFullMustacheParams(e,r,s),p=e.path,f=p.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",c.length,f);else{if(this.options.knownHelpersOnly)throw new Ee.default("You specified knownHelpersOnly, but used the unknown helper "+f,e);p.strict=!0,p.falsy=!0,this.accept(p),this.opcode("invokeHelper",c.length,p.original,be.default.helpers.simpleId(p))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var r=e.parts[0],s=be.default.helpers.scopedId(e),c=!e.depth&&!s&&this.blockParamIndex(r);c?this.opcode("lookupBlockParam",c,e.parts):r?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,s):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var r=e.pairs,s=0,c=r.length;for(this.opcode("pushHash");s<c;s++)this.pushParam(r[s].value);for(;s--;)this.opcode("assignToHash",r[s].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:Zn.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var r=be.default.helpers.simpleId(e.path),s=r&&!!this.blockParamIndex(e.path.parts[0]),c=!s&&be.default.helpers.helperExpression(e),p=!s&&(c||r);if(p&&!c){var f=e.path.parts[0],l=this.options;l.knownHelpers[f]?c=!0:l.knownHelpersOnly&&(p=!1)}return c?"helper":p?"ambiguous":"simple"},pushParams:function(e){for(var r=0,s=e.length;r<s;r++)this.pushParam(e[r])},pushParam:function(e){var r=e.value!=null?e.value:e.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",r,e.type),e.type==="SubExpression"&&this.accept(e);else{if(this.trackIds){var s=void 0;if(e.parts&&!be.default.helpers.scopedId(e)&&!e.depth&&(s=this.blockParamIndex(e.parts[0])),s){var c=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",s,c)}else r=e.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,r)}this.accept(e)}},setupFullMustacheParams:function(e,r,s,c){var p=e.params;return this.pushParams(p),this.opcode("pushProgram",r),this.opcode("pushProgram",s),e.hash?this.accept(e.hash):this.opcode("emptyHash",c),p},blockParamIndex:function(e){for(var r=0,s=this.options.blockParams.length;r<s;r++){var c=this.options.blockParams[r],p=c&&ke.indexOf(c,e);if(c&&p>=0)return[r,p]}}};function Qn(t,e,r){if(t==null||typeof t!="string"&&t.type!=="Program")throw new Ee.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var s=r.parse(t,e),c=new r.Compiler().compile(s,e);return new r.JavaScriptCompiler().compile(c,e)}function jn(t,e,r){if(e===void 0&&(e={}),t==null||typeof t!="string"&&t.type!=="Program")throw new Ee.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=ke.extend({},e),"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var s=void 0;function c(){var f=r.parse(t,e),l=new r.Compiler().compile(f,e),a=new r.JavaScriptCompiler().compile(l,e,void 0,!0);return r.template(a)}function p(f,l){return s||(s=c()),s.call(this,f,l)}return p._setup=function(f){return s||(s=c()),s._setup(f)},p._child=function(f,l,a,u){return s||(s=c()),s._child(f,l,a,u)},p}function Pr(t,e){if(t===e)return!0;if(ke.isArray(t)&&ke.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!Pr(t[r],e[r]))return!1;return!0}}function $t(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var Nt={exports:{}},It={exports:{}},we={},st={},De={},Be={},er;function Yn(){if(er)return Be;er=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Be.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},Be.decode=function(e){var r=65,s=90,c=97,p=122,f=48,l=57,a=43,u=47,o=26,d=52;return r<=e&&e<=s?e-r:c<=e&&e<=p?e-c+o:f<=e&&e<=l?e-f+d:e==a?62:e==u?63:-1},Be}var tr;function Lr(){if(tr)return De;tr=1;var t=Yn(),e=5,r=1<<e,s=r-1,c=r;function p(l){return l<0?(-l<<1)+1:(l<<1)+0}function f(l){var a=(l&1)===1,u=l>>1;return a?-u:u}return De.encode=function(a){var u="",o,d=p(a);do o=d&s,d>>>=e,d>0&&(o|=c),u+=t.encode(o);while(d>0);return u},De.decode=function(a,u,o){var d=a.length,n=0,h=0,i,g;do{if(u>=d)throw new Error("Expected more digits in base 64 VLQ value.");if(g=t.decode(a.charCodeAt(u++)),g===-1)throw new Error("Invalid base64 digit: "+a.charAt(u-1));i=!!(g&c),g&=s,n=n+(g<<h),h+=e}while(i);o.value=f(n),o.rest=u},De}var nt={},rr;function Ie(){return rr||(rr=1,function(t){function e(m,S,C){if(S in m)return m[S];if(arguments.length===3)return C;throw new Error('"'+S+'" is a required argument.')}t.getArg=e;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,s=/^data:.+\,.+$/;function c(m){var S=m.match(r);return S?{scheme:S[1],auth:S[2],host:S[3],port:S[4],path:S[5]}:null}t.urlParse=c;function p(m){var S="";return m.scheme&&(S+=m.scheme+":"),S+="//",m.auth&&(S+=m.auth+"@"),m.host&&(S+=m.host),m.port&&(S+=":"+m.port),m.path&&(S+=m.path),S}t.urlGenerate=p;function f(m){var S=m,C=c(m);if(C){if(!C.path)return m;S=C.path}for(var w=t.isAbsolute(S),k=S.split(/\/+/),N,x=0,D=k.length-1;D>=0;D--)N=k[D],N==="."?k.splice(D,1):N===".."?x++:x>0&&(N===""?(k.splice(D+1,x),x=0):(k.splice(D,2),x--));return S=k.join("/"),S===""&&(S=w?"/":"."),C?(C.path=S,p(C)):S}t.normalize=f;function l(m,S){m===""&&(m="."),S===""&&(S=".");var C=c(S),w=c(m);if(w&&(m=w.path||"/"),C&&!C.scheme)return w&&(C.scheme=w.scheme),p(C);if(C||S.match(s))return S;if(w&&!w.host&&!w.path)return w.host=S,p(w);var k=S.charAt(0)==="/"?S:f(m.replace(/\/+$/,"")+"/"+S);return w?(w.path=k,p(w)):k}t.join=l,t.isAbsolute=function(m){return m.charAt(0)==="/"||r.test(m)};function a(m,S){m===""&&(m="."),m=m.replace(/\/$/,"");for(var C=0;S.indexOf(m+"/")!==0;){var w=m.lastIndexOf("/");if(w<0||(m=m.slice(0,w),m.match(/^([^\/]+:\/)?\/*$/)))return S;++C}return Array(C+1).join("../")+S.substr(m.length+1)}t.relative=a;var u=function(){var m=Object.create(null);return!("__proto__"in m)}();function o(m){return m}function d(m){return h(m)?"$"+m:m}t.toSetString=u?o:d;function n(m){return h(m)?m.slice(1):m}t.fromSetString=u?o:n;function h(m){if(!m)return!1;var S=m.length;if(S<9||m.charCodeAt(S-1)!==95||m.charCodeAt(S-2)!==95||m.charCodeAt(S-3)!==111||m.charCodeAt(S-4)!==116||m.charCodeAt(S-5)!==111||m.charCodeAt(S-6)!==114||m.charCodeAt(S-7)!==112||m.charCodeAt(S-8)!==95||m.charCodeAt(S-9)!==95)return!1;for(var C=S-10;C>=0;C--)if(m.charCodeAt(C)!==36)return!1;return!0}function i(m,S,C){var w=v(m.source,S.source);return w!==0||(w=m.originalLine-S.originalLine,w!==0)||(w=m.originalColumn-S.originalColumn,w!==0||C)||(w=m.generatedColumn-S.generatedColumn,w!==0)||(w=m.generatedLine-S.generatedLine,w!==0)?w:v(m.name,S.name)}t.compareByOriginalPositions=i;function g(m,S,C){var w=m.generatedLine-S.generatedLine;return w!==0||(w=m.generatedColumn-S.generatedColumn,w!==0||C)||(w=v(m.source,S.source),w!==0)||(w=m.originalLine-S.originalLine,w!==0)||(w=m.originalColumn-S.originalColumn,w!==0)?w:v(m.name,S.name)}t.compareByGeneratedPositionsDeflated=g;function v(m,S){return m===S?0:m===null?1:S===null?-1:m>S?1:-1}function y(m,S){var C=m.generatedLine-S.generatedLine;return C!==0||(C=m.generatedColumn-S.generatedColumn,C!==0)||(C=v(m.source,S.source),C!==0)||(C=m.originalLine-S.originalLine,C!==0)||(C=m.originalColumn-S.originalColumn,C!==0)?C:v(m.name,S.name)}t.compareByGeneratedPositionsInflated=y;function _(m){return JSON.parse(m.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=_;function b(m,S,C){if(S=S||"",m&&(m[m.length-1]!=="/"&&S[0]!=="/"&&(m+="/"),S=m+S),C){var w=c(C);if(!w)throw new Error("sourceMapURL could not be parsed");if(w.path){var k=w.path.lastIndexOf("/");k>=0&&(w.path=w.path.substring(0,k+1))}S=l(p(w),S)}return f(S)}t.computeSourceURL=b}(nt)),nt}var it={},sr;function xr(){if(sr)return it;sr=1;var t=Ie(),e=Object.prototype.hasOwnProperty,r=typeof Map<"u";function s(){this._array=[],this._set=r?new Map:Object.create(null)}return s.fromArray=function(p,f){for(var l=new s,a=0,u=p.length;a<u;a++)l.add(p[a],f);return l},s.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(p,f){var l=r?p:t.toSetString(p),a=r?this.has(p):e.call(this._set,l),u=this._array.length;(!a||f)&&this._array.push(p),a||(r?this._set.set(p,u):this._set[l]=u)},s.prototype.has=function(p){if(r)return this._set.has(p);var f=t.toSetString(p);return e.call(this._set,f)},s.prototype.indexOf=function(p){if(r){var f=this._set.get(p);if(f>=0)return f}else{var l=t.toSetString(p);if(e.call(this._set,l))return this._set[l]}throw new Error('"'+p+'" is not in the set.')},s.prototype.at=function(p){if(p>=0&&p<this._array.length)return this._array[p];throw new Error("No element indexed by "+p)},s.prototype.toArray=function(){return this._array.slice()},it.ArraySet=s,it}var at={},nr;function Xn(){if(nr)return at;nr=1;var t=Ie();function e(s,c){var p=s.generatedLine,f=c.generatedLine,l=s.generatedColumn,a=c.generatedColumn;return f>p||f==p&&a>=l||t.compareByGeneratedPositionsInflated(s,c)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(c,p){this._array.forEach(c,p)},r.prototype.add=function(c){e(this._last,c)?(this._last=c,this._array.push(c)):(this._sorted=!1,this._array.push(c))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},at.MappingList=r,at}var ir;function Mr(){if(ir)return st;ir=1;var t=Lr(),e=Ie(),r=xr().ArraySet,s=Xn().MappingList;function c(p){p||(p={}),this._file=e.getArg(p,"file",null),this._sourceRoot=e.getArg(p,"sourceRoot",null),this._skipValidation=e.getArg(p,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new s,this._sourcesContents=null}return c.prototype._version=3,c.fromSourceMap=function(f){var l=f.sourceRoot,a=new c({file:f.file,sourceRoot:l});return f.eachMapping(function(u){var o={generated:{line:u.generatedLine,column:u.generatedColumn}};u.source!=null&&(o.source=u.source,l!=null&&(o.source=e.relative(l,o.source)),o.original={line:u.originalLine,column:u.originalColumn},u.name!=null&&(o.name=u.name)),a.addMapping(o)}),f.sources.forEach(function(u){var o=u;l!==null&&(o=e.relative(l,u)),a._sources.has(o)||a._sources.add(o);var d=f.sourceContentFor(u);d!=null&&a.setSourceContent(u,d)}),a},c.prototype.addMapping=function(f){var l=e.getArg(f,"generated"),a=e.getArg(f,"original",null),u=e.getArg(f,"source",null),o=e.getArg(f,"name",null);this._skipValidation||this._validateMapping(l,a,u,o),u!=null&&(u=String(u),this._sources.has(u)||this._sources.add(u)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:a!=null&&a.line,originalColumn:a!=null&&a.column,source:u,name:o})},c.prototype.setSourceContent=function(f,l){var a=f;this._sourceRoot!=null&&(a=e.relative(this._sourceRoot,a)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(a)]=l):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(a)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},c.prototype.applySourceMap=function(f,l,a){var u=l;if(l==null){if(f.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);u=f.file}var o=this._sourceRoot;o!=null&&(u=e.relative(o,u));var d=new r,n=new r;this._mappings.unsortedForEach(function(h){if(h.source===u&&h.originalLine!=null){var i=f.originalPositionFor({line:h.originalLine,column:h.originalColumn});i.source!=null&&(h.source=i.source,a!=null&&(h.source=e.join(a,h.source)),o!=null&&(h.source=e.relative(o,h.source)),h.originalLine=i.line,h.originalColumn=i.column,i.name!=null&&(h.name=i.name))}var g=h.source;g!=null&&!d.has(g)&&d.add(g);var v=h.name;v!=null&&!n.has(v)&&n.add(v)},this),this._sources=d,this._names=n,f.sources.forEach(function(h){var i=f.sourceContentFor(h);i!=null&&(a!=null&&(h=e.join(a,h)),o!=null&&(h=e.relative(o,h)),this.setSourceContent(h,i))},this)},c.prototype._validateMapping=function(f,l,a,u){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(f&&"line"in f&&"column"in f&&f.line>0&&f.column>=0&&!l&&!a&&!u)){if(f&&"line"in f&&"column"in f&&l&&"line"in l&&"column"in l&&f.line>0&&f.column>=0&&l.line>0&&l.column>=0&&a)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:f,source:a,original:l,name:u}))}},c.prototype._serializeMappings=function(){for(var f=0,l=1,a=0,u=0,o=0,d=0,n="",h,i,g,v,y=this._mappings.toArray(),_=0,b=y.length;_<b;_++){if(i=y[_],h="",i.generatedLine!==l)for(f=0;i.generatedLine!==l;)h+=";",l++;else if(_>0){if(!e.compareByGeneratedPositionsInflated(i,y[_-1]))continue;h+=","}h+=t.encode(i.generatedColumn-f),f=i.generatedColumn,i.source!=null&&(v=this._sources.indexOf(i.source),h+=t.encode(v-d),d=v,h+=t.encode(i.originalLine-1-u),u=i.originalLine-1,h+=t.encode(i.originalColumn-a),a=i.originalColumn,i.name!=null&&(g=this._names.indexOf(i.name),h+=t.encode(g-o),o=g)),n+=h}return n},c.prototype._generateSourcesContent=function(f,l){return f.map(function(a){if(!this._sourcesContents)return null;l!=null&&(a=e.relative(l,a));var u=e.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,u)?this._sourcesContents[u]:null},this)},c.prototype.toJSON=function(){var f={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(f.file=this._file),this._sourceRoot!=null&&(f.sourceRoot=this._sourceRoot),this._sourcesContents&&(f.sourcesContent=this._generateSourcesContent(f.sources,f.sourceRoot)),f},c.prototype.toString=function(){return JSON.stringify(this.toJSON())},st.SourceMapGenerator=c,st}var Ce={},ot={},ar;function $n(){return ar||(ar=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(r,s,c,p,f,l){var a=Math.floor((s-r)/2)+r,u=f(c,p[a],!0);return u===0?a:u>0?s-a>1?e(a,s,c,p,f,l):l==t.LEAST_UPPER_BOUND?s<p.length?s:-1:a:a-r>1?e(r,a,c,p,f,l):l==t.LEAST_UPPER_BOUND?a:r<0?-1:r}t.search=function(s,c,p,f){if(c.length===0)return-1;var l=e(-1,c.length,s,c,p,f||t.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&p(c[l],c[l-1],!0)===0;)--l;return l}}(ot)),ot}var lt={},or;function ei(){if(or)return lt;or=1;function t(s,c,p){var f=s[c];s[c]=s[p],s[p]=f}function e(s,c){return Math.round(s+Math.random()*(c-s))}function r(s,c,p,f){if(p<f){var l=e(p,f),a=p-1;t(s,l,f);for(var u=s[f],o=p;o<f;o++)c(s[o],u)<=0&&(a+=1,t(s,a,o));t(s,a+1,o);var d=a+1;r(s,c,p,d-1),r(s,c,d+1,f)}}return lt.quickSort=function(s,c){r(s,c,0,s.length-1)},lt}var lr;function ti(){if(lr)return Ce;lr=1;var t=Ie(),e=$n(),r=xr().ArraySet,s=Lr(),c=ei().quickSort;function p(u,o){var d=u;return typeof u=="string"&&(d=t.parseSourceMapInput(u)),d.sections!=null?new a(d,o):new f(d,o)}p.fromSourceMap=function(u,o){return f.fromSourceMap(u,o)},p.prototype._version=3,p.prototype.__generatedMappings=null,Object.defineProperty(p.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),p.prototype.__originalMappings=null,Object.defineProperty(p.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),p.prototype._charIsMappingSeparator=function(o,d){var n=o.charAt(d);return n===";"||n===","},p.prototype._parseMappings=function(o,d){throw new Error("Subclasses must implement _parseMappings")},p.GENERATED_ORDER=1,p.ORIGINAL_ORDER=2,p.GREATEST_LOWER_BOUND=1,p.LEAST_UPPER_BOUND=2,p.prototype.eachMapping=function(o,d,n){var h=d||null,i=n||p.GENERATED_ORDER,g;switch(i){case p.GENERATED_ORDER:g=this._generatedMappings;break;case p.ORIGINAL_ORDER:g=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;g.map(function(y){var _=y.source===null?null:this._sources.at(y.source);return _=t.computeSourceURL(v,_,this._sourceMapURL),{source:_,generatedLine:y.generatedLine,generatedColumn:y.generatedColumn,originalLine:y.originalLine,originalColumn:y.originalColumn,name:y.name===null?null:this._names.at(y.name)}},this).forEach(o,h)},p.prototype.allGeneratedPositionsFor=function(o){var d=t.getArg(o,"line"),n={source:t.getArg(o,"source"),originalLine:d,originalColumn:t.getArg(o,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var h=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(i>=0){var g=this._originalMappings[i];if(o.column===void 0)for(var v=g.originalLine;g&&g.originalLine===v;)h.push({line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++i];else for(var y=g.originalColumn;g&&g.originalLine===d&&g.originalColumn==y;)h.push({line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++i]}return h},Ce.SourceMapConsumer=p;function f(u,o){var d=u;typeof u=="string"&&(d=t.parseSourceMapInput(u));var n=t.getArg(d,"version"),h=t.getArg(d,"sources"),i=t.getArg(d,"names",[]),g=t.getArg(d,"sourceRoot",null),v=t.getArg(d,"sourcesContent",null),y=t.getArg(d,"mappings"),_=t.getArg(d,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);g&&(g=t.normalize(g)),h=h.map(String).map(t.normalize).map(function(b){return g&&t.isAbsolute(g)&&t.isAbsolute(b)?t.relative(g,b):b}),this._names=r.fromArray(i.map(String),!0),this._sources=r.fromArray(h,!0),this._absoluteSources=this._sources.toArray().map(function(b){return t.computeSourceURL(g,b,o)}),this.sourceRoot=g,this.sourcesContent=v,this._mappings=y,this._sourceMapURL=o,this.file=_}f.prototype=Object.create(p.prototype),f.prototype.consumer=p,f.prototype._findSourceIndex=function(u){var o=u;if(this.sourceRoot!=null&&(o=t.relative(this.sourceRoot,o)),this._sources.has(o))return this._sources.indexOf(o);var d;for(d=0;d<this._absoluteSources.length;++d)if(this._absoluteSources[d]==u)return d;return-1},f.fromSourceMap=function(o,d){var n=Object.create(f.prototype),h=n._names=r.fromArray(o._names.toArray(),!0),i=n._sources=r.fromArray(o._sources.toArray(),!0);n.sourceRoot=o._sourceRoot,n.sourcesContent=o._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=o._file,n._sourceMapURL=d,n._absoluteSources=n._sources.toArray().map(function(C){return t.computeSourceURL(n.sourceRoot,C,d)});for(var g=o._mappings.toArray().slice(),v=n.__generatedMappings=[],y=n.__originalMappings=[],_=0,b=g.length;_<b;_++){var m=g[_],S=new l;S.generatedLine=m.generatedLine,S.generatedColumn=m.generatedColumn,m.source&&(S.source=i.indexOf(m.source),S.originalLine=m.originalLine,S.originalColumn=m.originalColumn,m.name&&(S.name=h.indexOf(m.name)),y.push(S)),v.push(S)}return c(n.__originalMappings,t.compareByOriginalPositions),n},f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}f.prototype._parseMappings=function(o,d){for(var n=1,h=0,i=0,g=0,v=0,y=0,_=o.length,b=0,m={},S={},C=[],w=[],k,N,x,D,he;b<_;)if(o.charAt(b)===";")n++,b++,h=0;else if(o.charAt(b)===",")b++;else{for(k=new l,k.generatedLine=n,D=b;D<_&&!this._charIsMappingSeparator(o,D);D++);if(N=o.slice(b,D),x=m[N],x)b+=N.length;else{for(x=[];b<D;)s.decode(o,b,S),he=S.value,b=S.rest,x.push(he);if(x.length===2)throw new Error("Found a source, but no line and column");if(x.length===3)throw new Error("Found a source and line, but no column");m[N]=x}k.generatedColumn=h+x[0],h=k.generatedColumn,x.length>1&&(k.source=v+x[1],v+=x[1],k.originalLine=i+x[2],i=k.originalLine,k.originalLine+=1,k.originalColumn=g+x[3],g=k.originalColumn,x.length>4&&(k.name=y+x[4],y+=x[4])),w.push(k),typeof k.originalLine=="number"&&C.push(k)}c(w,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,c(C,t.compareByOriginalPositions),this.__originalMappings=C},f.prototype._findMapping=function(o,d,n,h,i,g){if(o[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+o[n]);if(o[h]<0)throw new TypeError("Column must be greater than or equal to 0, got "+o[h]);return e.search(o,d,i,g)},f.prototype.computeColumnSpans=function(){for(var o=0;o<this._generatedMappings.length;++o){var d=this._generatedMappings[o];if(o+1<this._generatedMappings.length){var n=this._generatedMappings[o+1];if(d.generatedLine===n.generatedLine){d.lastGeneratedColumn=n.generatedColumn-1;continue}}d.lastGeneratedColumn=1/0}},f.prototype.originalPositionFor=function(o){var d={generatedLine:t.getArg(o,"line"),generatedColumn:t.getArg(o,"column")},n=this._findMapping(d,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(o,"bias",p.GREATEST_LOWER_BOUND));if(n>=0){var h=this._generatedMappings[n];if(h.generatedLine===d.generatedLine){var i=t.getArg(h,"source",null);i!==null&&(i=this._sources.at(i),i=t.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var g=t.getArg(h,"name",null);return g!==null&&(g=this._names.at(g)),{source:i,line:t.getArg(h,"originalLine",null),column:t.getArg(h,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},f.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(o){return o==null}):!1},f.prototype.sourceContentFor=function(o,d){if(!this.sourcesContent)return null;var n=this._findSourceIndex(o);if(n>=0)return this.sourcesContent[n];var h=o;this.sourceRoot!=null&&(h=t.relative(this.sourceRoot,h));var i;if(this.sourceRoot!=null&&(i=t.urlParse(this.sourceRoot))){var g=h.replace(/^file:\/\//,"");if(i.scheme=="file"&&this._sources.has(g))return this.sourcesContent[this._sources.indexOf(g)];if((!i.path||i.path=="/")&&this._sources.has("/"+h))return this.sourcesContent[this._sources.indexOf("/"+h)]}if(d)return null;throw new Error('"'+h+'" is not in the SourceMap.')},f.prototype.generatedPositionFor=function(o){var d=t.getArg(o,"source");if(d=this._findSourceIndex(d),d<0)return{line:null,column:null,lastColumn:null};var n={source:d,originalLine:t.getArg(o,"line"),originalColumn:t.getArg(o,"column")},h=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(o,"bias",p.GREATEST_LOWER_BOUND));if(h>=0){var i=this._originalMappings[h];if(i.source===n.source)return{line:t.getArg(i,"generatedLine",null),column:t.getArg(i,"generatedColumn",null),lastColumn:t.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Ce.BasicSourceMapConsumer=f;function a(u,o){var d=u;typeof u=="string"&&(d=t.parseSourceMapInput(u));var n=t.getArg(d,"version"),h=t.getArg(d,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new r,this._names=new r;var i={line:-1,column:0};this._sections=h.map(function(g){if(g.url)throw new Error("Support for url field in sections not implemented.");var v=t.getArg(g,"offset"),y=t.getArg(v,"line"),_=t.getArg(v,"column");if(y<i.line||y===i.line&&_<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=v,{generatedOffset:{generatedLine:y+1,generatedColumn:_+1},consumer:new p(t.getArg(g,"map"),o)}})}return a.prototype=Object.create(p.prototype),a.prototype.constructor=p,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var u=[],o=0;o<this._sections.length;o++)for(var d=0;d<this._sections[o].consumer.sources.length;d++)u.push(this._sections[o].consumer.sources[d]);return u}}),a.prototype.originalPositionFor=function(o){var d={generatedLine:t.getArg(o,"line"),generatedColumn:t.getArg(o,"column")},n=e.search(d,this._sections,function(i,g){var v=i.generatedLine-g.generatedOffset.generatedLine;return v||i.generatedColumn-g.generatedOffset.generatedColumn}),h=this._sections[n];return h?h.consumer.originalPositionFor({line:d.generatedLine-(h.generatedOffset.generatedLine-1),column:d.generatedColumn-(h.generatedOffset.generatedLine===d.generatedLine?h.generatedOffset.generatedColumn-1:0),bias:o.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(o){return o.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(o,d){for(var n=0;n<this._sections.length;n++){var h=this._sections[n],i=h.consumer.sourceContentFor(o,!0);if(i)return i}if(d)return null;throw new Error('"'+o+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(o){for(var d=0;d<this._sections.length;d++){var n=this._sections[d];if(n.consumer._findSourceIndex(t.getArg(o,"source"))!==-1){var h=n.consumer.generatedPositionFor(o);if(h){var i={line:h.line+(n.generatedOffset.generatedLine-1),column:h.column+(n.generatedOffset.generatedLine===h.line?n.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}},a.prototype._parseMappings=function(o,d){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var h=this._sections[n],i=h.consumer._generatedMappings,g=0;g<i.length;g++){var v=i[g],y=h.consumer._sources.at(v.source);y=t.computeSourceURL(h.consumer.sourceRoot,y,this._sourceMapURL),this._sources.add(y),y=this._sources.indexOf(y);var _=null;v.name&&(_=h.consumer._names.at(v.name),this._names.add(_),_=this._names.indexOf(_));var b={source:y,generatedLine:v.generatedLine+(h.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(h.generatedOffset.generatedLine===v.generatedLine?h.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:_};this.__generatedMappings.push(b),typeof b.originalLine=="number"&&this.__originalMappings.push(b)}c(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),c(this.__originalMappings,t.compareByOriginalPositions)},Ce.IndexedSourceMapConsumer=a,Ce}var ut={},ur;function ri(){if(ur)return ut;ur=1;var t=Mr().SourceMapGenerator,e=Ie(),r=/(\r?\n)/,s=10,c="$$$isSourceNode$$$";function p(f,l,a,u,o){this.children=[],this.sourceContents={},this.line=f??null,this.column=l??null,this.source=a??null,this.name=o??null,this[c]=!0,u!=null&&this.add(u)}return p.fromStringWithSourceMap=function(l,a,u){var o=new p,d=l.split(r),n=0,h=function(){var _=m(),b=m()||"";return _+b;function m(){return n<d.length?d[n++]:void 0}},i=1,g=0,v=null;return a.eachMapping(function(_){if(v!==null)if(i<_.generatedLine)y(v,h()),i++,g=0;else{var b=d[n]||"",m=b.substr(0,_.generatedColumn-g);d[n]=b.substr(_.generatedColumn-g),g=_.generatedColumn,y(v,m),v=_;return}for(;i<_.generatedLine;)o.add(h()),i++;if(g<_.generatedColumn){var b=d[n]||"";o.add(b.substr(0,_.generatedColumn)),d[n]=b.substr(_.generatedColumn),g=_.generatedColumn}v=_},this),n<d.length&&(v&&y(v,h()),o.add(d.splice(n).join(""))),a.sources.forEach(function(_){var b=a.sourceContentFor(_);b!=null&&(u!=null&&(_=e.join(u,_)),o.setSourceContent(_,b))}),o;function y(_,b){if(_===null||_.source===void 0)o.add(b);else{var m=u?e.join(u,_.source):_.source;o.add(new p(_.originalLine,_.originalColumn,m,b,_.name))}}},p.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(a){this.add(a)},this);else if(l[c]||typeof l=="string")l&&this.children.push(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},p.prototype.prepend=function(l){if(Array.isArray(l))for(var a=l.length-1;a>=0;a--)this.prepend(l[a]);else if(l[c]||typeof l=="string")this.children.unshift(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},p.prototype.walk=function(l){for(var a,u=0,o=this.children.length;u<o;u++)a=this.children[u],a[c]?a.walk(l):a!==""&&l(a,{source:this.source,line:this.line,column:this.column,name:this.name})},p.prototype.join=function(l){var a,u,o=this.children.length;if(o>0){for(a=[],u=0;u<o-1;u++)a.push(this.children[u]),a.push(l);a.push(this.children[u]),this.children=a}return this},p.prototype.replaceRight=function(l,a){var u=this.children[this.children.length-1];return u[c]?u.replaceRight(l,a):typeof u=="string"?this.children[this.children.length-1]=u.replace(l,a):this.children.push("".replace(l,a)),this},p.prototype.setSourceContent=function(l,a){this.sourceContents[e.toSetString(l)]=a},p.prototype.walkSourceContents=function(l){for(var a=0,u=this.children.length;a<u;a++)this.children[a][c]&&this.children[a].walkSourceContents(l);for(var o=Object.keys(this.sourceContents),a=0,u=o.length;a<u;a++)l(e.fromSetString(o[a]),this.sourceContents[o[a]])},p.prototype.toString=function(){var l="";return this.walk(function(a){l+=a}),l},p.prototype.toStringWithSourceMap=function(l){var a={code:"",line:1,column:0},u=new t(l),o=!1,d=null,n=null,h=null,i=null;return this.walk(function(g,v){a.code+=g,v.source!==null&&v.line!==null&&v.column!==null?((d!==v.source||n!==v.line||h!==v.column||i!==v.name)&&u.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:a.line,column:a.column},name:v.name}),d=v.source,n=v.line,h=v.column,i=v.name,o=!0):o&&(u.addMapping({generated:{line:a.line,column:a.column}}),d=null,o=!1);for(var y=0,_=g.length;y<_;y++)g.charCodeAt(y)===s?(a.line++,a.column=0,y+1===_?(d=null,o=!1):o&&u.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:a.line,column:a.column},name:v.name})):a.column++}),this.walkSourceContents(function(g,v){u.setSourceContent(g,v)}),{code:a.code,map:u}},ut.SourceNode=p,ut}var cr;function si(){return cr||(cr=1,we.SourceMapGenerator=Mr().SourceMapGenerator,we.SourceMapConsumer=ti().SourceMapConsumer,we.SourceNode=ri().SourceNode),we}(function(t,e){e.__esModule=!0;var r=A,s=void 0;try{var c=si();s=c.SourceNode}catch{}s||(s=function(l,a,u,o){this.src="",o&&this.add(o)},s.prototype={add:function(a){r.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){r.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function p(l,a,u){if(r.isArray(l)){for(var o=[],d=0,n=l.length;d<n;d++)o.push(a.wrap(l[d],u));return o}else if(typeof l=="boolean"||typeof l=="number")return l+"";return l}function f(l){this.srcFile=l,this.source=[]}f.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,u){this.source.unshift(this.wrap(a,u))},push:function(a,u){this.source.push(this.wrap(a,u))},merge:function(){var a=this.empty();return this.each(function(u){a.add(["  ",u,`
`])}),a},each:function(a){for(var u=0,o=this.source.length;u<o;u++)a(this.source[u])},empty:function(){var a=this.currentLocation||{start:{}};return new s(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var u=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return a instanceof s?a:(a=p(a,this,u),new s(u.start.line,u.start.column,this.srcFile,a))},functionCall:function(a,u,o){return o=this.generateList(o),this.wrap([a,u?"."+u+"(":"(",o,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var u=this,o=[];Object.keys(a).forEach(function(n){var h=p(a[n],u);h!=="undefined"&&o.push([u.quotedString(n),":",h])});var d=this.generateList(o);return d.prepend("{"),d.add("}"),d},generateList:function(a){for(var u=this.empty(),o=0,d=a.length;o<d;o++)o&&u.add(","),u.add(p(a[o],this));return u},generateArray:function(a){var u=this.generateList(a);return u.prepend("["),u.add("]"),u}},e.default=f,t.exports=e.default})(It,It.exports);var ni=It.exports;(function(t,e){e.__esModule=!0;function r(n){return n&&n.__esModule?n:{default:n}}var s=G,c=W,p=r(c),f=A,l=ni,a=r(l);function u(n){this.value=n}function o(){}o.prototype={nameLookup:function(h,i){return this.internalNameLookup(h,i)},depthedLookup:function(h){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(h),")"]},compilerInfo:function(){var h=s.COMPILER_REVISION,i=s.REVISION_CHANGES[h];return[h,i]},appendToBuffer:function(h,i,g){return f.isArray(h)||(h=[h]),h=this.source.wrap(h,i),this.environment.isSimple?["return ",h,";"]:g?["buffer += ",h,";"]:(h.appendToBuffer=!0,h)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(h,i){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",h,",",JSON.stringify(i),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(h,i,g,v){this.environment=h,this.options=i,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!v,this.name=this.environment.name,this.isChild=!!g,this.context=g||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(h,i),this.useDepths=this.useDepths||h.useDepths||h.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||h.useBlockParams;var y=h.opcodes,_=void 0,b=void 0,m=void 0,S=void 0;for(m=0,S=y.length;m<S;m++)_=y[m],this.source.currentLocation=_.loc,b=b||_.loc,this[_.opcode].apply(this,_.args);if(this.source.currentLocation=b,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new p.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),v?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var C=this.createFunctionContext(v);if(this.isChild)return C;var w={compiler:this.compilerInfo(),main:C};this.decorators&&(w.main_d=this.decorators,w.useDecorators=!0);var k=this.context,N=k.programs,x=k.decorators;for(m=0,S=N.length;m<S;m++)N[m]&&(w[m]=N[m],x[m]&&(w[m+"_d"]=x[m],w.useDecorators=!0));return this.environment.usePartial&&(w.usePartial=!0),this.options.data&&(w.useData=!0),this.useDepths&&(w.useDepths=!0),this.useBlockParams&&(w.useBlockParams=!0),this.options.compat&&(w.compat=!0),v?w.compilerOptions=this.options:(w.compiler=JSON.stringify(w.compiler),this.source.currentLocation={start:{line:1,column:0}},w=this.objectLiteral(w),i.srcName?(w=w.toStringWithSourceMap({file:i.destName}),w.map=w.map&&w.map.toString()):w=w.toString()),w},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(h){var i=this,g="",v=this.stackVars.concat(this.registers.list);v.length>0&&(g+=", "+v.join(", "));var y=0;Object.keys(this.aliases).forEach(function(m){var S=i.aliases[m];S.children&&S.referenceCount>1&&(g+=", alias"+ ++y+"="+m,S.children[0]="alias"+y)}),this.lookupPropertyFunctionIsUsed&&(g+=", "+this.lookupPropertyFunctionVarDeclaration());var _=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&_.push("blockParams"),this.useDepths&&_.push("depths");var b=this.mergeSource(g);return h?(_.push(b),Function.apply(this,_)):this.source.wrap(["function(",_.join(","),`) {
  `,b,"}"])},mergeSource:function(h){var i=this.environment.isSimple,g=!this.forceBuffer,v=void 0,y=void 0,_=void 0,b=void 0;return this.source.each(function(m){m.appendToBuffer?(_?m.prepend("  + "):_=m,b=m):(_&&(y?_.prepend("buffer += "):v=!0,b.add(";"),_=b=void 0),y=!0,i||(g=!1))}),g?_?(_.prepend("return "),b.add(";")):y||this.source.push('return "";'):(h+=", buffer = "+(v?"":this.initializeBuffer()),_?(_.prepend("return buffer + "),b.add(";")):this.source.push("return buffer;")),h&&this.source.prepend("var "+h.substring(2)+(v?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(h){var i=this.aliasable("container.hooks.blockHelperMissing"),g=[this.contextName(0)];this.setupHelperArgs(h,0,g);var v=this.popStack();g.splice(1,0,v),this.push(this.source.functionCall(i,"call",g))},ambiguousBlockValue:function(){var h=this.aliasable("container.hooks.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs("",0,i,!0),this.flushInline();var g=this.topStack();i.splice(1,0,g),this.pushSource(["if (!",this.lastHelper,") { ",g," = ",this.source.functionCall(h,"call",i),"}"])},appendContent:function(h){this.pendingContent?h=this.pendingContent+h:this.pendingLocation=this.source.currentLocation,this.pendingContent=h},append:function(){if(this.isInline())this.replaceStack(function(i){return[" != null ? ",i,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var h=this.popStack();this.pushSource(["if (",h," != null) { ",this.appendToBuffer(h,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(h){this.lastContext=h},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(h,i,g,v){var y=0;!v&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(h[y++])):this.pushContext(),this.resolvePath("context",h,y,i,g)},lookupBlockParam:function(h,i){this.useBlockParams=!0,this.push(["blockParams[",h[0],"][",h[1],"]"]),this.resolvePath("context",i,1)},lookupData:function(h,i,g){h?this.pushStackLiteral("container.data(data, "+h+")"):this.pushStackLiteral("data"),this.resolvePath("data",i,0,!0,g)},resolvePath:function(h,i,g,v,y){var _=this;if(this.options.strict||this.options.assumeObjects){this.push(d(this.options.strict&&y,this,i,g,h));return}for(var b=i.length;g<b;g++)this.replaceStack(function(m){var S=_.nameLookup(m,i[g],h);return v?[" && ",S]:[" != null ? ",S," : ",m]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(h,i){this.pushContext(),this.pushString(i),i!=="SubExpression"&&(typeof h=="string"?this.pushString(h):this.pushStackLiteral(h))},emptyHash:function(h){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(h?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var h=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(h.ids)),this.stringParams&&(this.push(this.objectLiteral(h.contexts)),this.push(this.objectLiteral(h.types))),this.push(this.objectLiteral(h.values))},pushString:function(h){this.pushStackLiteral(this.quotedString(h))},pushLiteral:function(h){this.pushStackLiteral(h)},pushProgram:function(h){h!=null?this.pushStackLiteral(this.programExpression(h)):this.pushStackLiteral(null)},registerDecorator:function(h,i){var g=this.nameLookup("decorators",i,"decorator"),v=this.setupHelperArgs(i,h);this.decorators.push(["fn = ",this.decorators.functionCall(g,"",["fn","props","container",v])," || fn;"])},invokeHelper:function(h,i,g){var v=this.popStack(),y=this.setupHelper(h,i),_=[];g&&_.push(y.name),_.push(v),this.options.strict||_.push(this.aliasable("container.hooks.helperMissing"));var b=["(",this.itemsSeparatedBy(_,"||"),")"],m=this.source.functionCall(b,"call",y.callParams);this.push(m)},itemsSeparatedBy:function(h,i){var g=[];g.push(h[0]);for(var v=1;v<h.length;v++)g.push(i,h[v]);return g},invokeKnownHelper:function(h,i){var g=this.setupHelper(h,i);this.push(this.source.functionCall(g.name,"call",g.callParams))},invokeAmbiguous:function(h,i){this.useRegister("helper");var g=this.popStack();this.emptyHash();var v=this.setupHelper(0,h,i),y=this.lastHelper=this.nameLookup("helpers",h,"helper"),_=["(","(helper = ",y," || ",g,")"];this.options.strict||(_[0]="(helper = ",_.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",_,v.paramsInit?["),(",v.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",v.callParams)," : helper))"])},invokePartial:function(h,i,g){var v=[],y=this.setupParams(i,1,v);h&&(i=this.popStack(),delete y.name),g&&(y.indent=JSON.stringify(g)),y.helpers="helpers",y.partials="partials",y.decorators="container.decorators",h?v.unshift(i):v.unshift(this.nameLookup("partials",i,"partial")),this.options.compat&&(y.depths="depths"),y=this.objectLiteral(y),v.push(y),this.push(this.source.functionCall("container.invokePartial","",v))},assignToHash:function(h){var i=this.popStack(),g=void 0,v=void 0,y=void 0;this.trackIds&&(y=this.popStack()),this.stringParams&&(v=this.popStack(),g=this.popStack());var _=this.hash;g&&(_.contexts[h]=g),v&&(_.types[h]=v),y&&(_.ids[h]=y),_.values[h]=i},pushId:function(h,i,g){h==="BlockParam"?this.pushStackLiteral("blockParams["+i[0]+"].path["+i[1]+"]"+(g?" + "+JSON.stringify("."+g):"")):h==="PathExpression"?this.pushString(i):h==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(h,i){for(var g=h.children,v=void 0,y=void 0,_=0,b=g.length;_<b;_++){v=g[_],y=new this.compiler;var m=this.matchExistingProgram(v);if(m==null){this.context.programs.push("");var S=this.context.programs.length;v.index=S,v.name="program"+S,this.context.programs[S]=y.compile(v,i,this.context,!this.precompile),this.context.decorators[S]=y.decorators,this.context.environments[S]=v,this.useDepths=this.useDepths||y.useDepths,this.useBlockParams=this.useBlockParams||y.useBlockParams,v.useDepths=this.useDepths,v.useBlockParams=this.useBlockParams}else v.index=m.index,v.name="program"+m.index,this.useDepths=this.useDepths||m.useDepths,this.useBlockParams=this.useBlockParams||m.useBlockParams}},matchExistingProgram:function(h){for(var i=0,g=this.context.environments.length;i<g;i++){var v=this.context.environments[i];if(v&&v.equals(h))return v}},programExpression:function(h){var i=this.environment.children[h],g=[i.index,"data",i.blockParams];return(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths"),"container.program("+g.join(", ")+")"},useRegister:function(h){this.registers[h]||(this.registers[h]=!0,this.registers.list.push(h))},push:function(h){return h instanceof u||(h=this.source.wrap(h)),this.inlineStack.push(h),h},pushStackLiteral:function(h){this.push(new u(h))},pushSource:function(h){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),h&&this.source.push(h)},replaceStack:function(h){var i=["("],g=void 0,v=void 0,y=void 0;if(!this.isInline())throw new p.default("replaceStack on non-inline");var _=this.popStack(!0);if(_ instanceof u)g=[_.value],i=["(",g],y=!0;else{v=!0;var b=this.incrStack();i=["((",this.push(b)," = ",_,")"],g=this.topStack()}var m=h.call(this,g);y||this.popStack(),v&&this.stackSlot--,this.push(i.concat(m,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var h=this.inlineStack;this.inlineStack=[];for(var i=0,g=h.length;i<g;i++){var v=h[i];if(v instanceof u)this.compileStack.push(v);else{var y=this.incrStack();this.pushSource([y," = ",v,";"]),this.compileStack.push(y)}}},isInline:function(){return this.inlineStack.length},popStack:function(h){var i=this.isInline(),g=(i?this.inlineStack:this.compileStack).pop();if(!h&&g instanceof u)return g.value;if(!i){if(!this.stackSlot)throw new p.default("Invalid stack pop");this.stackSlot--}return g},topStack:function(){var h=this.isInline()?this.inlineStack:this.compileStack,i=h[h.length-1];return i instanceof u?i.value:i},contextName:function(h){return this.useDepths&&h?"depths["+h+"]":"depth"+h},quotedString:function(h){return this.source.quotedString(h)},objectLiteral:function(h){return this.source.objectLiteral(h)},aliasable:function(h){var i=this.aliases[h];return i?(i.referenceCount++,i):(i=this.aliases[h]=this.source.wrap(h),i.aliasable=!0,i.referenceCount=1,i)},setupHelper:function(h,i,g){var v=[],y=this.setupHelperArgs(i,h,v,g),_=this.nameLookup("helpers",i,"helper"),b=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:v,paramsInit:y,name:_,callParams:[b].concat(v)}},setupParams:function(h,i,g){var v={},y=[],_=[],b=[],m=!g,S=void 0;m&&(g=[]),v.name=this.quotedString(h),v.hash=this.popStack(),this.trackIds&&(v.hashIds=this.popStack()),this.stringParams&&(v.hashTypes=this.popStack(),v.hashContexts=this.popStack());var C=this.popStack(),w=this.popStack();(w||C)&&(v.fn=w||"container.noop",v.inverse=C||"container.noop");for(var k=i;k--;)S=this.popStack(),g[k]=S,this.trackIds&&(b[k]=this.popStack()),this.stringParams&&(_[k]=this.popStack(),y[k]=this.popStack());return m&&(v.args=this.source.generateArray(g)),this.trackIds&&(v.ids=this.source.generateArray(b)),this.stringParams&&(v.types=this.source.generateArray(_),v.contexts=this.source.generateArray(y)),this.options.data&&(v.data="data"),this.useBlockParams&&(v.blockParams="blockParams"),v},setupHelperArgs:function(h,i,g,v){var y=this.setupParams(h,i,g);return y.loc=JSON.stringify(this.source.currentLocation),y=this.objectLiteral(y),v?(this.useRegister("options"),g.push("options"),["options=",y]):g?(g.push(y),""):y}},function(){for(var n="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),h=o.RESERVED_WORDS={},i=0,g=n.length;i<g;i++)h[n[i]]=!0}(),o.isValidJavaScriptVariableName=function(n){return!o.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)};function d(n,h,i,g,v){var y=h.popStack(),_=i.length;for(n&&_--;g<_;g++)y=h.nameLookup(y,i[g],v);return n?[h.aliasable("container.strict"),"(",y,", ",h.quotedString(i[g]),", ",JSON.stringify(h.source.currentLocation)," )"]:y}e.default=o,t.exports=e.default})(Nt,Nt.exports);var ii=Nt.exports;(function(t,e){e.__esModule=!0;function r(_){return _&&_.__esModule?_:{default:_}}var s=Cn,c=r(s),p=br,f=r(p),l=Ae,a=Ne,u=ii,o=r(u),d=wr,n=r(d),h=yr,i=r(h),g=c.default.create;function v(){var _=g();return _.compile=function(b,m){return a.compile(b,m,_)},_.precompile=function(b,m){return a.precompile(b,m,_)},_.AST=f.default,_.Compiler=a.Compiler,_.JavaScriptCompiler=o.default,_.Parser=l.parser,_.parse=l.parse,_.parseWithoutProcessing=l.parseWithoutProcessing,_}var y=v();y.create=v,i.default(y),y.Visitor=n.default,y.default=y,e.default=y,t.exports=e.default})(ct,ct.exports);var ai=ct.exports;const oi=ns(ai);class qt{constructor(){O(this,"events");this.events={}}on(e,r){this.events[e]||(this.events[e]=[]),this.events[e].push(r)}off(e,r){this.checkEvent(e),this.events[e]=this.events[e].filter(s=>s!==r)}emit(e,...r){this.checkEvent(e),this.events[e].forEach(s=>s(...r))}checkEvent(e){if(!this.events[e])throw new Error(`Нет подписки на событие: ${e}`)}}var F,xe,Y,P,Rt,Or,Ar,Nr,Ve,Ir,Dt,Rr,Dr,Br,Tr,Ur,Hr,Bt;const T=class T{constructor(e="div",r={}){I(this,P);I(this,F);I(this,xe);O(this,"id");I(this,Y);O(this,"props");O(this,"children");O(this,"events");O(this,"listChildren");O(this,"attributes");const s=L(this,P,Rt).call(this,r);B(this,xe,{tagName:e,props:s.props}),this.props=L(this,P,Ve).call(this,s.props),this.children=L(this,P,Ve).call(this,s.children),this.listChildren=L(this,P,Ve).call(this,s.listChildren),this.events=s.events,this.attributes=s.attributes;const c=new qt;this.id=fr(),B(this,F,L(this,P,Dt).call(this,e)),B(this,Y,()=>c),L(this,P,Ir).call(this,c),c.emit(T.EVENTS.INIT)}componentDidMount(){}componentDidReRender(){}componentDidUpdate(e,r){return!0}dispatchComponentDidMount(){E(this,Y).call(this).emit(T.EVENTS.CDM)}getContent(){return E(this,F)}init(){B(this,F,L(this,P,Dt).call(this,E(this,xe).tagName)),E(this,Y).call(this).emit(T.EVENTS.RENDER)}compile(e,r={}){const s={...r};Object.entries(this.children).forEach(([p,f])=>{s[p]=`<div data-id="${f.id}"></div>`}),Object.entries(this.listChildren).forEach(([p,f])=>{s[p]=`<div data-id=${f[0].id}></div>`});const c=document.createElement("template");return c.innerHTML=oi.compile(e)(s),Object.values(this.children).forEach(p=>{const f=c.content.querySelector(`[data-id="${p.id}"]`);f&&f.replaceWith(p.getContent())}),Object.values(this.listChildren).forEach(p=>{const f=c.content.querySelector(`[data-id="${p[0].id}"]`);if(!f)return;const l=document.createElement("template");p.forEach(a=>{l.content.append(a.getContent())}),f.replaceWith(l.content)}),c.content}setProps(e){if(!e)return;const{props:r,children:s,listChildren:c}=L(this,P,Rt).call(this,e);Object.values(r).length&&Object.assign(this.props,r),Object.values(s).length&&Object.assign(this.children,s),Object.values(c).length&&Object.assign(this.listChildren,c)}render(){return this.compile("")}hide(){E(this,F).style.display="none"}show(){E(this,F).style.display="block",E(this,Y).call(this).emit(T.EVENTS.CDU)}};F=new WeakMap,xe=new WeakMap,Y=new WeakMap,P=new WeakSet,Rt=function(e){const r={},s={},c={},p={};let f={};return Object.keys(e).forEach(l=>{if(L(this,P,Or).call(this,e[l]))s[l]=e[l];else if(L(this,P,Ar).call(this,l,e[l])){const a=l.slice(2).toLowerCase();c[a]=e[l]}else L(this,P,Nr).call(this,e[l])?e[l].forEach(u=>{p[l]===void 0&&(p[l]=[]),p[l].push(u)}):l==="attributes"?f={...e.attributes}:r[l]=e[l]}),{props:r,children:s,events:c,listChildren:p,attributes:f}},Or=function(e){return e instanceof T},Ar=function(e,r){return e.startsWith("on")&&typeof r=="function"},Nr=function(e){return Array.isArray(e)&&!!e.filter(r=>r instanceof T).length},Ve=function(e){return(r=>new Proxy(e,{set(s,c,p){var l;const f={...s};return s[c]=p,E(l=r,Y).call(l).emit(T.EVENTS.CDU,f,s),!0},defineProperty(s,c){if(c.startsWith("#"))throw new Error(`Нельзя удалить это свойство: ${c}`);return!0}}))(this)},Ir=function(e){e.on(T.EVENTS.INIT,this.init.bind(this)),e.on(T.EVENTS.CDM,L(this,P,Rr).bind(this)),e.on(T.EVENTS.CDU,L(this,P,Dr).bind(this)),e.on(T.EVENTS.CDR_R,L(this,P,Br).bind(this)),e.on(T.EVENTS.RENDER,L(this,P,Bt).bind(this))},Dt=function(e){return document.createElement(e)},Rr=function(){this.componentDidMount(),Object.values(this.children).forEach(e=>{e.dispatchComponentDidMount()}),Object.values(this.listChildren).forEach(e=>{e.forEach(r=>r.dispatchComponentDidMount())})},Dr=function(e,r){this.componentDidUpdate(e,r)&&(L(this,P,Bt).call(this),E(this,Y).call(this).emit(T.EVENTS.CDR_R))},Br=function(){this.componentDidReRender()},Tr=function(){Object.keys(this.events).forEach(e=>{E(this,F).addEventListener(e,this.events[e])})},Ur=function(){Object.keys(this.events).forEach(e=>{E(this,F).removeEventListener(e,this.events[e])})},Hr=function(){E(this,F).setAttribute("data-id",this.id),Object.entries(this.attributes).forEach(([e,r])=>{E(this,F).setAttribute(e,r)})},Bt=function(){const e=this.render();L(this,P,Ur).call(this),E(this,F).innerHTML="",E(this,F).appendChild(e),L(this,P,Hr).call(this),L(this,P,Tr).call(this)},O(T,"EVENTS",{INIT:"init",CDM:"component-did-mount",CDU:"component-did-update",CDR_R:"component-did-rerender",RENDER:"render"});let M=T;const ee=(...t)=>{let e="";return t.forEach(r=>{typeof r=="string"||typeof r=="number"?(e+=e?" ":"",e+=r):typeof r=="object"&&(Array.isArray(r)?r.forEach(s=>{if(s){const c=ee(s);c&&(e+=e?" ":"",e+=c)}}):Object.entries(r).forEach(([s,c])=>{c&&(e+=e?" ":"",e+=s)}))}),e};class li extends M{render(){return this.compile("",this.props)}}const ce=(t={})=>(ee("12","34",{a:"fill",b:"json"}),new li("input",{...t,attributes:{class:ee("input",{filled:"filled-input",flushed:"flushed-input","un-styled":"un-styled-input"}[t.variant||"filled"],t.className),...t.attributes}}));class ui extends M{componentDidUpdate(e,r){return r.isLoading?this.getContent().setAttribute("disabled",""):this.getContent().removeAttribute("disabled"),!0}render(){const{label:e=""}=this.props;return this.compile(`${this.props.isLoading?"Загрузка...":e}`,this.props)}}const H=t=>new ui("button",{...t,attributes:{...t.attributes,class:ee({main:"button",link:"button-link",circle:"button-circle"}[t.variant||"main"],t.className)}}),ci=`
    <label for="{{ forId }}" class="form-label__label">{{ label }}</label>
    {{{ element }}}
    {{#if error}}
    <div class="form-label__error">
      {{ error }}
    </div>
    {{/if}}
`;class hi extends M{render(){return this.compile(ci,this.props)}}const Fr=t=>new hi("div",{...t,attributes:{...t.attributes,class:ee("form-label",t.className)}}),pi=[{id:"login",name:"login",label:"Логин"},{id:"password",name:"password",label:"Пароль",type:"password",autocomplete:"new-password"}],ze={AUTH:{SING_IN:{"Login or password is incorrect":"Неверный логин или пароль"},SING_UP:{"Login already exists":"Пользователь с таким логином уже существует"}},CHANGE_USER:{"Password is incorrect":{key:"oldPassword",msg:"Неверный пароль"},"Login already exists":{key:"login",msg:"Пользователь с таким логином уже существует"},"Email already exists":{key:"email",msg:"Пользователь с таким email уже существует"}}},Wt={api:"https://ya-praktikum.tech/api/v2",resources:"https://ya-praktikum.tech/api/v2/resources",ws:"wss://ya-praktikum.tech/ws/chats"};var te,Ze,Vr,ae;const K=class K{constructor(e){I(this,Ze);I(this,te);I(this,ae,(e,r={method:K.METHODS.GET},s=15e3)=>{const{headers:c={},method:p,data:f}=r;return new Promise((l,a)=>{if(!p){a(new Error("No method"));return}const u=new XMLHttpRequest,o=p===K.METHODS.GET,d=o?L(this,Ze,Vr).call(this,e,f||{}):e;u.open(p,d),u.withCredentials=!0,Object.keys(c).forEach(n=>{u.setRequestHeader(n,c[n])}),u.onload=()=>{const n={status:u.status,response:u.response};u.status>=400&&a(n),l(n)},u.onabort=a,u.onerror=a,u.timeout=s,u.ontimeout=a,o||!f?u.send():f instanceof FormData?u.send(f):(u.setRequestHeader("Content-Type","application/json"),u.send(JSON.stringify(f)))})});O(this,"get",async(e,r)=>E(this,ae).call(this,E(this,te)+e,{...r,method:K.METHODS.GET}));O(this,"post",async(e,r)=>E(this,ae).call(this,E(this,te)+e,{...r,method:K.METHODS.POST}));O(this,"put",async(e,r)=>E(this,ae).call(this,E(this,te)+e,{...r,method:K.METHODS.PUT}));O(this,"delete",async(e,r)=>E(this,ae).call(this,E(this,te)+e,{...r,method:K.METHODS.DELETE}));B(this,te,`${Wt.api}${e}`)}};te=new WeakMap,Ze=new WeakSet,Vr=function(e,r){const s=new URL(e);return Object.entries(r).forEach(([c,p])=>s.searchParams.set(c,p)),s.toString()},ae=new WeakMap,O(K,"METHODS",{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"});let Pe=K;const Ke=t=>t.response?JSON.parse(t.response).reason:"Что то пошло не так!",$=t=>({...t,response:JSON.parse(t.response)}),Te=new Pe("/auth");class fi{async getUser(){return Te.get("/user").then(e=>$(e).response)}async signUp(e){return Te.post("/signup",{data:e})}async signIn(e){return Te.post("/signin",{data:e})}async logOut(){return Te.post("/logout")}}const R={HOME:"/",SIGN_IN:"/sign-in",SING_OUT:"/sign-out",USER_SETTING:"/view-user-settings",CHANGE_USER_SETTING:"/change-user-information",CHANGE_USER_PASSWORD:"/change-user-password",CHAT:"/chat"};var Gr=(t=>(t.Update="update",t))(Gr||{});class di extends qt{constructor(){super();O(this,"state");this.state={user:null,chatsList:[],dialogData:null,messages:[],searchUserList:[]},this.on("update",()=>{})}getState(){return this.state}setState(r){this.state={...this.state,...r},this.emit("update")}}const U=new di;class Xe{constructor(){O(this,"api");this.api=new fi}async getUser(){return this.api.getUser()}signUp(e,{onSuccess:r=()=>{},onError:s=()=>{}}){this.api.signUp(e).then(()=>{r(),window.location.replace(R.HOME)}).catch(c=>{const p=ze.AUTH.SING_UP[Ke(c)];p!==void 0&&s(p)})}signIn(e,{onSuccess:r,onError:s}){this.api.signIn(e).then(()=>{r&&r(),window.location.replace(R.HOME)}).catch(c=>{const p=ze.AUTH.SING_IN[Ke(c)];p!==void 0&&s&&s(p)})}setUser(e){U.setState({user:e})}logOut(){this.api.logOut().then(()=>window.location.reload())}}const gi=`
    <div class="sign-in-form__inputs">
      {{{ login }}}
      {{{ password }}}
    </div>
    
    <div class="sign-in-form__btns">
    <p class="sign-in-form__error">{{{error}}}</p>
      {{{ submitButton }}}
      {{{ linkButton }}}</a>
    </div>
`,mi=`
    <div class="auth__title">
      <h2>{{ title }}</h2>
    </div>
      {{{ content }}}
`;class vi extends M{render(){return this.compile(mi,this.props)}}const qr=t=>new vi("form",{...t,attributes:{class:"auth",novalidate:!0}});class _i{isValidNameFormat(e){return/^[A-ZА-Я][a-zA-Zа-яА-Я-]*$/.test(e)}isCorrectLogin(e){return/^(?!\d+$)[a-zA-Z0-9_-]{3,20}$/.test(e)}isCorrectEmail(e){return/^[a-zA-Z0-9_-]+@[a-zA-Z]+(\.[a-zA-Z]{2,})+$/.test(e)}isCorrectPhone(e){return/^\+?\d{10,15}$/.test(e)}isCorrectPassword(e){return/^(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,40}$/.test(e)}isEmptyString(e){return!!e.trim()}}class $e extends _i{constructor(){super();O(this,"savedPassword");this.savedPassword=""}signIn(r){const s={isValid:!0,errors:[]};return Object.entries(r).forEach(([c,p])=>{switch(c){case"login":this.isEmptyString(p)||s.errors.push({key:c,message:"Поле не может быть пустым"});break;case"password":this.isEmptyString(p)||s.errors.push({key:c,message:"Поле не может быть пустым"});break}}),s.errors.length&&(s.isValid=!1),s}changePassword(r){const s={isValid:!0,errors:[]};return Object.entries(r).forEach(([c,p])=>{switch(c){case"oldPassword":this.isEmptyString(p)||s.errors.push({key:c,message:"Поле не может быть пустым"});break;case"newPassword":this.isCorrectPassword(p)?this.savedPassword=p:s.errors.push({key:c,message:"Пароль должен быть от 8 до 40 символов и хотя бы одной заглавной буквы"});break;case"confirmPassword":this.savedPassword!==p&&s.errors.push({key:c,message:"Пароли не совпадают"});break}}),s.errors.length&&(s.isValid=!1),s}userInformation(r){const s={isValid:!0,errors:[]};return Object.entries(r).forEach(([c,p])=>{switch(c){case"first_name":this.isValidNameFormat(p)||s.errors.push({key:c,message:"Используйте только буквы без пробелов и цифр, первая буква должны быть заглавной"});break;case"second_name":this.isValidNameFormat(p)||s.errors.push({key:c,message:"Используйте только буквы без пробелов и цифр, первая буква должны быть заглавной"});break;case"login":this.isCorrectLogin(p)||s.errors.push({key:c,message:`Должен содержать только латинские буквы, от 3 до 20 символов,
               без пробелов, дефисов и нижних подчёркиваний`});break;case"email":this.isCorrectEmail(p)||s.errors.push({key:c,message:"Некоректный email"});break;case"phone":this.isCorrectPhone(p)||s.errors.push({key:c,message:"Телефон долже быть от 10 до 15 символов, состоять из цифр"});break;case"password":this.isCorrectPassword(p)?this.savedPassword=p:s.errors.push({key:c,message:"Пароль должен быть от 8 до 40 символов и хотя бы одной заглавной буквы"});break;case"confirm_password":this.savedPassword!==p&&s.errors.push({key:c,message:"Пароли не совпадают"});break}}),s.errors.length&&(s.isValid=!1),s}}const Si=(t,e)=>{const r=document.querySelector(t);r&&(r.appendChild(e.getContent()),e.dispatchComponentDidMount())};class hr{constructor(e,r,s){O(this,"component");this.pathname=e,this.block=r,this.props=s,this.component=null}match(e){return new RegExp(`^${this.pathname.replace(/\/:[^/]+/,"/[^/]+")}$`).test(e)}leave(){this.component&&this.component.hide()}getPath(){return this.pathname}render(){if(!this.component){this.component=this.block,Si(this.props.rootQuery,this.component);return}this.component.show()}}var me,ve,oe,_e,z,re,Ge,Wr;const ge=class ge{constructor(){I(this,re);I(this,me);I(this,ve);I(this,oe);I(this,_e);I(this,z);if(B(this,me,[]),B(this,ve,window.history),B(this,oe,null),B(this,_e,"#app"),B(this,z,null),ge.instance)return ge.instance;ge.instance=this}use(e,r,{middleware:s}={}){const c=new hr(e,r,{rootQuery:E(this,_e),middleware:s});return E(this,me).push(c),this}notFound(e){return B(this,z,e),this}start(){window.addEventListener("popstate",e=>{const r=e.currentTarget;L(this,re,Ge).call(this,r.location.pathname)}),L(this,re,Ge).call(this,window.location.pathname)}get atPath(){return window.location.pathname}go(e){E(this,ve).pushState({},"",e),L(this,re,Ge).call(this,e)}back(){E(this,ve).back()}};me=new WeakMap,ve=new WeakMap,oe=new WeakMap,_e=new WeakMap,z=new WeakMap,re=new WeakSet,Ge=function(e){let r=L(this,re,Wr).call(this,e);if(!r){if(E(this,z)===null)return;if(typeof E(this,z)=="function"&&E(this,z).call(this),typeof E(this,z)=="object")r=new hr(e,E(this,z),{rootQuery:E(this,_e)});else return}E(this,oe)&&E(this,oe).leave(),B(this,oe,r),r.render()},Wr=function(e){return E(this,me).find(r=>r.match(e))},O(ge,"instance");let V=ge;var Qe,Jr;class yi extends M{constructor(r){super("div",{...r,attributes:{class:"sign-in-form"}});I(this,Qe);O(this,"validator");this.validator=new $e,L(this,Qe,Jr).call(this,pi),this.children.linkButton=H({label:"Нет аккаунта",variant:"link",attributes:{type:"button"},onClick:()=>new V().go(R.SING_OUT)})}onBlur(r){const s=r.target,{isValid:c,errors:p}=this.validator.signIn({[s.name]:s.value});if(c)this.children[s.name].setProps({error:""});else{const f=p[0];this.children[f.key].setProps({error:f.message})}}render(){return this.compile(gi,this.props)}}Qe=new WeakSet,Jr=function(r){r.forEach(s=>{this.children[s.name]=Fr({label:s.label,forId:s.id,element:ce({attributes:{id:s.id,name:s.name,type:s.type||"text",autocomplete:s.autocomplete},variant:"flushed",onBlur:this.onBlur.bind(this)})})})};const bi=()=>{const t=H({label:"Авторизоваться",attributes:{type:"submit"}}),e=new yi({submitButton:t}),r=new Xe;return qr({title:"Вход",content:e,onSubmit:s=>{s.preventDefault();const{validator:c}=e,p=s.target,f=new FormData(p),l={};f.forEach((o,d)=>{l[d]=o});const{isValid:a,errors:u}=c.signIn(l);u.forEach(o=>e.children[o.key].setProps({error:o.message})),a&&(t.setProps({isLoading:!0}),r.signIn(l,{onSuccess:()=>{p.reset()},onError:o=>{t.setProps({isLoading:!1}),e.setProps({error:o})}}))}})},wi=[{id:"login",name:"login",label:"Логин"},{id:"first_name",name:"first_name",label:"Имя"},{id:"second_name",name:"second_name",label:"Фамилия"},{id:"phone",name:"phone",label:"Телефон"},{id:"email",name:"email",label:"Почта",type:"email",autocomplete:"email"},{id:"password",name:"password",label:"Пароль",type:"password",autocomplete:"new-password"},{id:"confirm_password",name:"confirm_password",label:"Пароль (еще раз)",type:"password",autocomplete:"new-password"}],Ci=`
    <div class="sign-out-form__inputs">
      {{{ email }}}
      {{{ login }}}
      {{{ first_name }}}
      {{{ second_name }}}
      {{{ phone }}}
      {{{ password }}}
      {{{ confirm_password }}}
    </div>
    <div class="sign-out-form__btns">
      <p class="sign-out-form__error">{{{error}}}</p>
      {{{ submitButton }}}
      {{{ linkButton }}}
    </div>
`;var je,zr;class Ei extends M{constructor(){super("div",{attributes:{class:"sign-out-form"}});I(this,je);O(this,"validator");L(this,je,zr).call(this,wi),this.children.submitButton=H({attributes:{type:"submit"},label:"Зарегестрироваться"}),this.children.linkButton=H({variant:"link",label:"Войти",attributes:{type:"button"},onClick:()=>new V().go(R.SIGN_IN)}),this.validator=new $e}onBlur(r){const s=r.target,{isValid:c,errors:p}=this.validator.userInformation({[s.name]:s.value});if(c)this.children[s.name].setProps({error:""});else{const f=p[0];this.children[f.key].setProps({error:f.message})}}render(){return this.compile(Ci,this.props)}}je=new WeakSet,zr=function(r){r.forEach(s=>{this.children[s.name]=Fr({label:s.label,forId:s.id,element:ce({attributes:{id:s.id,name:s.name,type:s.type||"text",autocomplete:s.autocomplete},variant:"flushed",onBlur:this.onBlur.bind(this)})})})};const ki=()=>{const t=new Ei,e=new Xe;return qr({title:"Регистрация",content:t,onSubmit:r=>{r.preventDefault();const{validator:s}=t,c=r.target,p=new FormData(c),f={};p.forEach((u,o)=>{f[o]=u});const{isValid:l,errors:a}=s.userInformation(f);a.forEach(u=>{t.children[u.key].setProps({error:u.message})}),l&&e.signUp(f,{onSuccess:()=>c.reset(),onError:u=>t.setProps({error:u})})}})},Pi=()=>H({label:"Выход",variant:"link",className:"exit-button",onClick:()=>{new Xe().logOut()}}),Li="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.5924%2011.4138C10.1605%2012.8457%207.83886%2012.8457%206.40694%2011.4138C4.97502%209.98187%204.97502%207.66027%206.40694%206.22834C7.83886%204.79642%2010.1605%204.79642%2011.5924%206.22834C13.0243%207.66027%2013.0243%209.98187%2011.5924%2011.4138ZM12.0328%2012.7968C10.0725%2014.2961%207.25696%2014.1494%205.46413%2012.3566C3.51151%2010.404%203.51151%207.23816%205.46413%205.28553C7.41675%203.33291%2010.5826%203.33291%2012.5352%205.28553C14.3279%207.07828%2014.4747%209.8937%2012.9755%2011.8539L16.5423%2015.4206L15.5994%2016.3634L12.0328%2012.7968Z'%20fill='%23999999'/%3e%3c/svg%3e",xi="data:image/svg+xml,%3csvg%20width='6'%20height='10'%20viewBox='0%200%206%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%209L5%205L1%201'%20stroke='%23999999'/%3e%3c/svg%3e";class Kr{async request(e){throw new Error(`Not implemented, ${e}`)}async create(e){throw new Error(`Not implemented, ${e}`)}async update(e){throw new Error(`Not implemented, ${e}`)}async delete(e){throw new Error(`Not implemented, ${e}`)}}const fe=new Pe("/chats");class Mi extends Kr{async request(){return fe.get("/").then(e=>$(e).response)}async create(e){return fe.post("/",{data:{title:e}}).then(r=>$(r).response)}async getChatToken(e){return fe.post(`/token/${e}`).then(r=>$(r).response)}async addUserToChat(e,r){return fe.put("/users",{data:{chatId:e,users:r}})}async getUserIntoChat(e){return fe.get(`/${e}/users`).then(r=>$(r).response)}async delete(e){return fe.delete("/",{data:{chatId:e}}).then(r=>$(r).response)}}const Oi=`
    <div class="user-settings">
      <div class="user-settings__left-bar">
          {{{ returnBackButton }}}
      </div>
      <div class="user-settings__right-bar">
        {{{ content }}}
      </div>
    </div>
`;class Ai extends M{constructor(e){super("div",e),this.children.returnBackButton=H({attributes:{type:"button"},label:"←",variant:"circle",onClick:()=>new V().back()})}render(){return this.compile(Oi,this.props)}}const Jt=t=>new Ai(t),Ni=`
    <div class="setting-wrapper__user_avatar">
      {{{ avatar }}}
    </div>
    <div class="setting-wrapper__user-name">
      <h4 class="setting-wrapper__user-name__title">{{{ user.first_name }}}</h4>
    </div>
    {{#if fields.length }}
      <div class="setting-wrapper__user-fields-info">
        {{{ fields }}}
      </div>
    {{/if }}
    {{#if actions.length }}
      <div class="setting-wrapper__user-actions">
        {{{ actions }}}  
      </div>  
    {{/if }}
    {{#if saveButton }}
      <div class="setting-wrapper__save_button">
        {{{ saveButton }}}  
      </div>  
    {{/if }}
`;class Ii extends M{constructor(e){super("div",{...e,attributes:{class:"setting-wrapper"}})}render(){return this.compile(Ni,this.props)}}const zt=t=>new Ii(t),Ri=`
  <div class="setting-block">
    <div class="left-text">
      {{{ leftContent }}}
      {{#if error }}
         <div class="setting-block__error-text">{{ error }}</div>
      {{/if }}
    </div>
    <div class="right-text">
      {{{ rightContent }}}
    </div>
  </div>
`;class Di extends M{render(){return this.compile(Ri,this.props)}}const de=t=>new Di("div",t),Zr=[{label:"Почта",name:"email"},{label:"Логин",name:"login"},{label:"Имя",name:"first_name"},{label:"Фамилия",name:"second_name"},{label:"Имя в чате",name:"display_name"},{label:"Телефон",name:"phone"}],Bi=`
    {{#if src}}
        <img 
            class="avatar-image" 
            width="{{ width }}" 
            height="{{ height }}" 
            src="{{ src }}" 
            alt="{{ alt }}" 
        />
    {{/if}}
`;class Ti extends M{render(){return this.compile(Bi,this.props)}}const Re=t=>new Ti("div",{...t,src:t.src?`${Wt.resources}${t.src}`:"",attributes:{...t.attributes,class:ee({circle:"avatar avatar__circle"}[t.variant||"circle"],t.className)}}),Qr=t=>Re({width:"130px",height:"130px",src:t||"",alt:"Avatar",variant:"circle",className:"user_avatar"}),ye=(t,e)=>class extends t{constructor(r={}){super({...r}),U.on(Gr.Update,()=>{this.setProps({...e(U.getState())})})}};class Ui extends M{constructor(e){super("div",e)}render(){return this.compile("{{{ wrapper }}}",this.props)}}const Hi=()=>Jt({content:new(ye(Ui,t=>({user:t.user,wrapper:zt({avatar:Qr(t.user&&t.user.avatar),fields:Zr.map(e=>de({leftContent:e.label,rightContent:t.user&&t.user[e.name]||""})),actions:[de({leftContent:H({label:"Изменить данные",variant:"link",onClick:()=>new V().go(R.CHANGE_USER_SETTING)})}),de({leftContent:H({label:"Изменить пароль",variant:"link",onClick:()=>new V().go(R.CHANGE_USER_PASSWORD)})}),de({leftContent:Pi()})]})})))});class Fi extends M{render(){return this.compile("{{{ content }}}",this.props)}}const jr=t=>new Fi("form",t),Ue=new Pe("/user");class Yr extends Kr{async update(e){return Ue.put("/profile",{data:e}).then(r=>$(r).response)}async changePassword(e){return Ue.put("/password",{data:e})}async changeAvatar(e){return Ue.put("/profile/avatar",{data:e}).then(r=>$(r).response)}async searchUsers(e=""){return Ue.post("/search",{data:{login:e}}).then(r=>$(r).response)}}class Kt{constructor(){O(this,"api");O(this,"router");this.api=new Yr,this.router=new V}updateUser(e,{onError:r=()=>{}}){this.api.update(e).then(s=>{U.setState({user:s}),this.router.back()}).catch(s=>{const c=ze.CHANGE_USER[Ke(s)];c!==void 0&&r(c)})}changePassword(e,{onSuccess:r=()=>{},onError:s}){this.api.changePassword(e).then(()=>{r(),this.router.back()}).catch(c=>{const p=ze.CHANGE_USER[Ke(c)];p!==void 0&&s&&s(p)})}async changeAvatar(e,{onSuccess:r=()=>{}}){const s=new FormData;s.append("avatar",e),this.api.changeAvatar(s).then(c=>{r(),U.setState({user:c})})}}const Vi=`
    {{{ avatar }}}
  <label for="change-avatar" class="change-wrapper">
    <div class="change-wrapper-overlay"></div>
    <p>{{{ wrapperText }}}</p>
  </label>
  {{#if isLoading}}
    <p class="change-avatar-loading">Загрузка картинки...</p>
  {{/if}}
  <div class="change-avatar-input-file">
    {{{ input }}}
  </div>
`;class Gi extends M{constructor(e){super("div",{attributes:{class:"change-avatar"},wrapperText:e.src?"Изменить аватар":"Добавить аватар"});const r=new Kt;this.children.avatar=Re({width:"130px",height:"130px",src:e.src,variant:"circle",alt:"Avatar",className:"user_avatar"}),this.children.input=ce({attributes:{type:"file",id:"change-avatar",accept:"image/*"},onInput:s=>{const c=s.target;this.setProps({isLoading:!0}),c.files&&c.files.length&&r.changeAvatar(c.files[0],{onSuccess:()=>this.setProps({isLoading:!1})})}})}render(){return this.compile(Vi,this.props)}}const qi=t=>new Gi(t);class Wi extends M{constructor(e){super("div",e)}render(){return this.compile("{{{ form }}}",this.props)}}const Ji=()=>new(ye(Wi,t=>{var l;const e=new Kt,r=new $e,s={},c=H({label:"Сохранить",attributes:{type:"submit"}}),p=a=>{const u=a.target,{isValid:o,errors:d}=r.userInformation({[u.name]:u.value});if(o)s[u.name].setProps({error:""});else{const n=d[0];s[n.key].setProps({error:n.message})}},f=a=>{a.preventDefault();const u=a.target,o=new FormData(u),d={};o.forEach((i,g)=>{d[g]=i});const{isValid:n,errors:h}=r.userInformation(d);h.forEach(i=>{s[i.key].setProps({error:i.message})}),n&&(c.setProps({isLoading:!0}),e.updateUser(d,{onError:i=>{c.setProps({isLoading:!1}),i&&s[i.key].setProps({error:i.msg})}}))};return{user:t.user,form:jr({content:Jt({content:zt({avatar:qi({src:((l=t.user)==null?void 0:l.avatar)||""}),fields:Zr.map(a=>{const u=de({leftContent:a.label,rightContent:ce({className:"input-begin-right",attributes:{name:[a.name],value:t.user?t.user[a.name]:""},variant:"un-styled",onBlur:p.bind(void 0)})});return s[a.name]=u,u}),saveButton:c})}),onSubmit:f.bind(void 0)})}})),zi=[{label:"Старый пароль",name:"oldPassword"},{label:"Новый пароль",name:"newPassword"},{label:"Повторите новый пароль",name:"confirmPassword"}];class Ki extends M{constructor(e){super("div",e)}render(){return this.compile("{{{ wrapper }}}",this.props)}}const Zi=()=>new(ye(Ki,t=>{var f;const e={},r=new $e,s=H({label:"Сохранить",attributes:{type:"submit"}}),c=()=>zi.map(l=>{const a=de({leftContent:l.label,rightContent:ce({className:"input-begin-right",attributes:{name:l.name,type:"password",autocomplete:"new-password",placeholder:"Введите пароль"},variant:"un-styled",onBlur:u=>{const o=u.target,{isValid:d,errors:n}=r.changePassword({[o.name]:o.value});if(d)e[o.name].setProps({error:""});else{const h=n[0];e[h.key].setProps({error:h.message})}}})});return e[l.name]=a,a}),p=l=>{l.preventDefault();const a=new Kt,u=l.target,o=new FormData(u),d={};o.forEach((i,g)=>{d[g]=i});const{isValid:n,errors:h}=r.changePassword(d);h.forEach(i=>{e[i.key].setProps({error:i.message})}),n&&(s.setProps({isLoading:!0}),a.changePassword(d,{onSuccess:()=>{u.reset(),s.setProps({isLoading:!1})},onError:(i="")=>{e.oldPassword.setProps({error:i}),s.setProps({isLoading:!1})}}))};return{wrapper:Jt({content:jr({content:zt({avatar:Qr((f=t.user)==null?void 0:f.avatar),fields:c(),saveButton:s}),onSubmit:p.bind(void 0)})})}})),J={CONNECTED:"connected",CLOSE:"close",ERROR:"error",MESSAGE:"message"};var X,le,Ye,Me;class Qi extends qt{constructor(r){super();I(this,X);I(this,le);I(this,Ye,3e4);I(this,Me);B(this,Me,Wt.ws+r)}connect(){if(E(this,X))throw new Error("Сокет уже установлен");return B(this,X,new WebSocket(E(this,Me))),this.subscribe(E(this,X)),this.setupPing(),new Promise((r,s)=>{this.on(J.ERROR,s),this.on(J.CONNECTED,()=>{this.off(J.ERROR,s),r()})})}close(){var r;(r=E(this,X))==null||r.close(),clearInterval(E(this,le))}send(r){if(!E(this,X))throw new Error("Сокет не установлен");E(this,X).send(JSON.stringify(r))}setupPing(){B(this,le,setInterval(()=>{this.send({type:"ping"})},E(this,Ye))),this.on(J.CLOSE,()=>{clearInterval(E(this,le)),B(this,le,void 0)})}subscribe(r){r.addEventListener("open",()=>{this.emit(J.CONNECTED)}),r.addEventListener("close",()=>{this.emit(J.CLOSE)}),r.addEventListener("error",()=>{this.emit(J.ERROR)}),r.addEventListener("message",s=>{try{const c=JSON.parse(s.data);if(["pong","user connected"].includes(c==null?void 0:c.type))return;this.emit(J.MESSAGE,c)}catch{}})}}X=new WeakMap,le=new WeakMap,Ye=new WeakMap,Me=new WeakMap;class ji{constructor(e){O(this,"getChats");this.intervalId=e,this.getChats=()=>{}}init(e){this.intervalId||(this.intervalId=this.start()),e&&(this.getChats=e)}start(){return setInterval(()=>this.getList(),2e4)}getList(){this.getChats()}restart(){clearInterval(this.intervalId),this.intervalId=this.start()}}const Xr=new ji;var se,qe,$r;class Le{constructor(){I(this,se);O(this,"api");O(this,"router");O(this,"userApi");this.api=new Mi,this.router=new V,this.userApi=new Yr}getChatsList(){this.api.request().then(e=>{U.setState({chatsList:e}),L(this,se,qe).call(this)})}addChat(e,r){const{user:s}=U.getState(),c=(s==null?void 0:s.display_name)||(s==null?void 0:s.login),p=e.display_name||e.login,f=`${c}/${p}`;this.api.create(f).then(l=>{this.addUserToChat({chatId:l.id,users:[s,e]}),r()})}addUserToChat({chatId:e,users:r}){this.api.addUserToChat(e,r.map(s=>s.id)).then(()=>this.getChatsList())}async openChat(e){var c,p;this.router.atPath!==`${R.CHAT}/${e}`&&this.router.go(`${R.CHAT}/${e}`);const{user:r,dialogData:s}=U.getState();s!==null&&s.ws&&s.ws.close();try{const l=(await this.api.getUserIntoChat(e).catch(()=>(this.router.go(R.HOME),[]))).filter(o=>o.id!==(r==null?void 0:r.id)),a={id:e,title:((c=l[0])==null?void 0:c.display_name)||((p=l[0])==null?void 0:p.login),avatar:l[0].avatar,role:l[0].role,loading:!0,ws:null};U.setState({dialogData:a});const u=await this.api.getChatToken(e);if(u.token){const o=new Qi(`/${r==null?void 0:r.id}/${e}/${u.token}`);o.on(J.MESSAGE,L(this,se,$r).bind(this)),o.connect().then(()=>{o.send({content:"0",type:"get old"}),U.setState({dialogData:{...a,ws:o}})})}}catch{}}searchUser(e="",r){this.userApi.searchUsers(e).then(s=>{U.setState({searchUserList:s}),r&&r()})}clearSearchedUser(){U.setState({searchUserList:[]})}deleteChat(){const{dialogData:e}=U.getState();e!=null&&e.id&&this.api.delete(e.id).then(()=>{this.router.go(R.HOME),this.getChatsList()})}}se=new WeakSet,qe=function(){const e=document.querySelector(".dialog__messages");e!==null&&(e.scrollTop=e.scrollHeight)},$r=function(e){Xr.restart();const{messages:r,dialogData:s}=U.getState();if(Array.isArray(e)&&(U.setState({messages:[...e.reverse()],dialogData:{...s,loading:!1}}),L(this,se,qe).call(this)),e.type===J.MESSAGE){const c=[...r];c.push(e),U.setState({messages:c}),L(this,se,qe).call(this),setTimeout(()=>this.getChatsList(),1e3)}};const Yi=`
    <div class="chat-item__avatar">
      {{{ avatar }}}
    </div>
    <div class="chat-item__text-info">
      <h4>{{ title }}</h4>
      <p class="last_message">{{{ last_message }}}</p>
    </div>
    <div class="chat-item__another-info">
      <p class="message-create-at">{{{ time }}}</p>
      {{#if unread_count}}
      <span class="unread-message-count">
        {{ unread_count }}
      </span>
      {{/if}}
    </div>
`,Xi=(t,e,r=0)=>t.length>e?`${t.slice(r,e)}...`:t;class $i extends M{constructor(e){super("div",{...e,attributes:{class:ee("chat-item",e.className)},avatar:Re({width:"47px",height:"47px",alt:"Avatar",src:e.avatar||""}),last_message:e.last_message?Xi(e.last_message.content,45):"",time:"ПН",onClick:()=>e.onClick&&e.onClick(e.id)})}render(){return this.compile(Yi,this.props)}}const ea=`
  <div class="chat-list">
    <div class="chat-list__header">
    {{{ openSettings }}}      
    </div>
    <div class="chat-list__add-chat">
        {{{ searchUser }}}
    </div>
    {{#if isSearch }}
       {{{ searchChatList }}}
    {{else}}
      <div class="chat-list__dialogs_list">
         {{{ chatsList }}}
      </div>
    {{/if}}
  </div>
`,ta=`
  <div class="user-item">
    <div class="user-item__avatar">{{{ avatar }}}</div>
    <h4 class="user-item__info">{{{ title }}}</h4>
  </div> 
`;class ra extends M{constructor(e){super("div",{...e,avatar:Re({width:"47px",height:"47px",src:e.avatar||"",alt:"Avatar",variant:"circle"}),title:e.display_name||e.login})}render(){return this.compile(ta,this.props)}}const sa=t=>new ra(t),na=`
      <div class="add-chat">
        <div class="add-chat__menu">
          {{{ input }}}
          {{{ btn }}} 
        </div>
        {{#if isLoading}}
          <p>Loading...</p>
        {{/if}}
        {{{ userList }}}
      </div>
`;class ia extends M{constructor(){super("div");const e=new Le,r=ce({attributes:{placeholder:"Введите логин пользователя"}}),s=H({label:"Найти",onClick:()=>{const c=r.getContent();s.setProps({isLoading:!0}),this.setProps({isLoading:!0}),c.disabled=!0,e.searchUser(c.value,()=>{s.setProps({isLoading:!1}),this.setProps({isLoading:!1}),c.value="",c.disabled=!1})}});this.children.input=r,this.children.btn=s}render(){return this.compile(na,this.props)}}const aa=({onClickItem:t})=>new(ye(ia,e=>({userList:e.searchUserList.map(r=>sa({...r,onClick:()=>t(r)}))})));class oa extends M{constructor(e){super("div",{...e,srcArrowHead:xi,srcSearchIcon:Li,isSearch:!1}),this.children.openSettings=H({className:"open-settings",label:"Профиль",variant:"link",onClick:()=>{new V().go(R.USER_SETTING)}});const r=aa({onClickItem:c=>{r.setProps({isLoading:!0}),new Le().addChat(c,()=>{this.setProps({isSearch:!1}),r.setProps({isLoading:!1})})}}),s=H({label:"Найти пользователя",variant:"link",onClick:()=>{const c=new Le;this.props.isSearch?c.clearSearchedUser():(r.setProps({isLoading:!0}),c.searchUser("",()=>{r.setProps({isLoading:!1})})),this.setProps({isSearch:!this.props.isSearch}),s.setProps({label:this.props.isSearch?"Назад к чатам":"Найти пользователя"})}});this.children.searchUser=s,this.children.searchChatList=r}render(){return this.compile(ea,this.props)}}const la=t=>(t.getChatsList(),new(ye(oa,e=>({chatsList:e.chatsList.map(r=>new $i({...r,className:"dialogs_list__item",onClick:s=>t.openChat(s)}))})))),ua=`
  <div class="chat">
    <div class="chat__list">
      {{{ chatsList }}}
    </div>
    <div class="chat__dialog">
      {{#unless chatDialog }}
        <h3 class="chat__dialog__without-dialog">Выберите диалог</h3>
      {{/unless }}
      
      {{{ chatDialog }}}
    </div>
  </div>
`;class ca extends M{render(){return this.compile(ua,this.props)}}const ha=t=>new ca("div",t);class pa extends M{constructor(e){super("div");const r=new Le;Xr.init(r.getChatsList.bind(r)),this.children.chat=ha({chatsList:la(r),chatDialog:e&&e(r)})}render(){return this.compile("{{{ chat }}}",this.props)}}const pr=t=>new pa(t),fa=`
    <h1 class="_400-500-title">{{ title }}</h1>
    <h2 class="_400-500-sub-title">{{ subtitle }}</h2>
    <div class="_400-500-link-button">
      {{{ linkBackButton }}}
    </div>
`;class da extends M{render(){return this.compile(fa,this.props)}}const ga=t=>new da("div",{...t,attributes:{class:"_400-500-wrapper"}}),ma=t=>ga({title:"404",subtitle:"Не туда попали",linkBackButton:H({variant:"link",label:"Назад к чатам",onClick:t})}),va=`
    <div class="dialog__header">
      <div class="dialog__header__user-info">
        <div class="dialog__header__avatar">
          {{{ dialogAvatar }}}
        </div>
        <h4>{{{ userName }}}</h4>
      </div>
      {{{ dialogMenu }}}
    </div>
    <div class="dialog__messages">
    {{#if isLoading}}
      <div class="dialog__loading">Загрузка...</div>
    {{else}}
      {{#unless messages.length}}
      <div class="dialog__ribbon">
        <p>У вас пока что нет сообщений</p>
      </div>
      {{ else }}
         {{{ messages }}}
      {{/unless }}
    {{/if}}
    </div>
    {{{ footer }}}
`,_a="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.18662%2013.5L14.7628%205.92389L15.7056%206.8667L8.12943%2014.4428L7.18662%2013.5Z'%20fill='%233369F3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.70067%2016.014L17.2768%208.43781L18.2196%209.38062L10.6435%2016.9568L9.70067%2016.014Z'%20fill='%233369F3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.0433%2021.3567L22.6195%2013.7806L23.5623%2014.7234L15.9861%2022.2995L15.0433%2021.3567Z'%20fill='%233369F3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.5574%2023.8706L25.1335%2016.2945L26.0763%2017.2373L18.5002%2024.8134L17.5574%2023.8706Z'%20fill='%233369F3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.5574%2023.8709C14.9423%2026.486%2010.7118%2026.4954%208.10831%2023.8919C5.50482%2021.2884%205.51424%2017.0579%208.12936%2014.4428L7.18655%2013.5C4.0484%2016.6381%204.0371%2021.7148%207.16129%2024.839C10.2855%2027.9632%2015.3621%2027.9518%2018.5003%2024.8137L17.5574%2023.8709Z'%20fill='%233369F3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22.6195%2013.7806L23.5623%2014.7234C26.003%2012.2826%2026.0118%208.3341%2023.5819%205.90417C21.152%203.47424%2017.2035%203.48304%2014.7627%205.92381L15.7055%206.86662C17.6233%204.94887%2020.7257%204.94196%2022.6349%206.85119C24.5441%208.76042%2024.5372%2011.8628%2022.6195%2013.7806Z'%20fill='%233369F3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.70092%2016.0144C7.95751%2017.7578%207.95123%2020.5782%209.68689%2022.3138C11.4226%2024.0495%2014.2429%2024.0432%2015.9863%2022.2998L15.0435%2021.357C13.8231%2022.5774%2011.8489%2022.5818%2010.6339%2021.3668C9.41894%2020.1518%209.42334%2018.1776%2010.6437%2016.9572L9.70092%2016.0144Z'%20fill='%233369F3'/%3e%3c/svg%3e",Sa=`
  <div class="footer-form">
    <div class="footer-form__add-file">
      <img width="32" height="32" src="{{ sctFileIcon }}" alt="file-icon" >
    </div>
    <div class="footer-form__input">
       {{{ messageInput }}}
    </div>
    <div class="footer-form__button">
      {{{ sendMessageButton }}}
    </div>
  </div> 
`;class ya extends M{constructor(e){super("form",{attributes:{class:ee(e.className)},sctFileIcon:_a,onSubmit:r=>e.onSubmit&&e.onSubmit(r)}),this.children.messageInput=ce({className:"send-message-input",attributes:{name:"message",placeholder:"Сообщение"}}),this.children.sendMessageButton=H({label:"➔",variant:"circle"})}render(){return this.compile(Sa,this.props)}}const ba=t=>new ya(t);class wa extends M{render(){return this.compile("{{{ message }}}",this.props)}}const Ca=t=>new wa("div",{...t,attributes:{class:ee("message-item",t.className)}}),Ea=`

    <div class="dialog-menu__btn">︙<div>
    {{#if isOpen}}
      <div class="dialog-menu__list">
        {{{ dialogList }}}
      </div>
    {{/if }}
`;class ka extends M{constructor(){super("div",{attributes:{class:"dialog-menu"},isOpen:!1,dialogList:[H({label:"Удалить диалог",variant:"link",className:"dialog-menu__delete-btn",onClick:()=>{new Le().deleteChat()}})],onClick:()=>{this.setProps({isOpen:!this.props.isOpen})}})}render(){return this.compile(Ea,this.props)}}const Pa=()=>new ka;class La extends M{constructor(){super("div",{attributes:{class:"dialog"}})}render(){return this.compile(va,this.props)}}const xa=t=>{const e=new V().atPath.split("/"),r=e[e.length-1];return e.includes(R.CHAT.replace("/",""))&&t.openChat(Number(r)),new(ye(La,s=>s.dialogData?{dialogAvatar:Re({width:"54px",height:"54px",alt:"Avatar",src:s.dialogData.avatar,className:"dialog-avatar"}),dialogMenu:s.dialogData.role==="admin"?null:Pa(),isLoading:s.dialogData.loading,userName:s.dialogData.title,messages:s.messages.map(({content:c,user_id:p})=>{const f=s.user&&s.user.id===p;return Ca({message:c,className:f?"right":""})}),footer:ba({className:"footer",onSubmit:c=>{c.preventDefault();const p=c.target,f=new FormData(p),l={};f.forEach((a,u)=>{l[u]=a}),l.message&&(s.dialogData!==null&&s.dialogData.ws&&s.dialogData.ws.send({content:l.message,type:"message"}),p.reset())}})}:{}))};document.addEventListener("DOMContentLoaded",()=>{const t=new Xe,e=new V;t.getUser().then(r=>{t.setUser(r),e.use(R.HOME,pr()).use(R.USER_SETTING,Hi()).use(R.CHANGE_USER_SETTING,Ji()).use(R.CHANGE_USER_PASSWORD,Zi()).use(`${R.CHAT}/:id`,pr(s=>xa(s))).notFound(ma(()=>{e.go(R.HOME)}))}).catch(()=>{e.use(R.SIGN_IN,bi()).use(R.SING_OUT,ki()).notFound(()=>e.go(R.SIGN_IN))}).finally(()=>e.start())});
